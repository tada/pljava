<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sun Mar 23 16:07:45 EDT 2025 -->
<title>PassXML (PL/Java examples 1.6.9)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-03-23">
<meta name="description" content="declaration: package: org.postgresql.pljava.example.annotation, class: PassXML">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PassXML.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.postgresql.pljava.example.annotation</a></div>
<h1 title="Class PassXML" class="title">Class PassXML</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.postgresql.pljava.example.annotation.PassXML</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link">SQLData</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="postgresql_xml",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>="SELECT CASE (SELECT 1 FROM pg_type WHERE typname = \'xml\') WHEN 1 THEN set_config(\'pljava.implementors\', \'postgresql_xml,\' ||  current_setting(\'pljava.implementors\'), true) END") <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#requires()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">requires</a>="echoXMLParameter",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>="WITH s(how) AS (SELECT generate_series(1, 7)), t(x) AS (  SELECT table_to_xml(\'pg_catalog.pg_operator\', true, false, \'\') ), r(howin, howout, isdoc) AS (  SELECT   i.how, o.how,   javatest.echoxmlparameter(x, i.how, o.how) IS DOCUMENT  FROM   t, s AS i, s AS o  WHERE   NOT (i.how = 6 and o.how = 7) ) SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'SQLXML echos succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'SQLXML echos had problems\') END FROM r") <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#requires()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">requires</a>="proxiedXMLEcho",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>="WITH s(how) AS (SELECT unnest(\'{1,2,4,5,6,7}\'::int[])), t(x) AS (  SELECT table_to_xml(\'pg_catalog.pg_operator\', true, false, \'\') ), r(how, isdoc) AS (  SELECT\thow,\tjavatest.proxiedxmlecho(x, how) IS DOCUMENT  FROM\tt, s )SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'proxied SQLXML echos succeeded\')  ELSE javatest.logmessage(\'WARNING\',       \'proxied SQLXML echos had problems\') END FROM r") <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#requires()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">requires</a>="lowLevelXMLEcho",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>={"SELECT preparexmlschema(\'schematest\', $$&lt;xs:schema xmlns:xs=\'http://www.w3.org/2001/XMLSchema\' targetNamespace=\'urn:testme\' elementFormDefault=\'qualified\'&gt; &lt;xs:element name=\'row\'&gt;  &lt;xs:complexType&gt;   &lt;xs:sequence&gt;    &lt;xs:element name=\'textcol\' type=\'xs:string\' nillable=\'true\'/&gt;    &lt;xs:element name=\'intcol\' type=\'xs:integer\' nillable=\'true\'/&gt;   &lt;/xs:sequence&gt;  &lt;/xs:complexType&gt; &lt;/xs:element&gt;&lt;/xs:schema&gt;$$, \'http://www.w3.org/2001/XMLSchema\', 5)","WITH s(how) AS (SELECT unnest(\'{4,5,7}\'::int[])), r(isdoc) AS ( SELECT  javatest.lowlevelxmlecho(   query_to_xml(    \'SELECT \'\'hi\'\' AS textcol, 1 AS intcol\', true, true, \'urn:testme\'   ), how, params) IS DOCUMENT FROM  s,  (SELECT \'schematest\' AS schema) AS params )SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'XML Schema tests succeeded\')  ELSE javatest.logmessage(\'WARNING\',       \'XML Schema tests had problems\') END FROM r"}) <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#requires()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">requires</a>={"prepareXMLTransform","transformXML"},<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>={"REVOKE EXECUTE ON FUNCTION javatest.prepareXMLTransformWithJava (pg_catalog.varchar, pg_catalog.xml, integer, boolean, boolean,  pg_catalog.RECORD) FROM PUBLIC","SELECT javatest.prepareXMLTransform(\'distinctElementNames\',\'&lt;xsl:transform version=\'\'1.0\'\' xmlns:xsl=\'\'http://www.w3.org/1999/XSL/Transform\'\' xmlns:exsl=\'\'http://exslt.org/common\'\' xmlns:set=\'\'http://exslt.org/sets\'\' extension-element-prefixes=\'\'exsl set\'\'&gt; &lt;xsl:output method=\'\'xml\'\' indent=\'\'no\'\'/&gt; &lt;xsl:template match=\'\'/\'\'&gt;  &lt;xsl:variable name=\'\'enames\'\'&gt;   &lt;xsl:for-each select=\'\'//*\'\'&gt;    &lt;ename&gt;&lt;xsl:value-of select=\'\'local-name()\'\'/&gt;&lt;/ename&gt;   &lt;/xsl:for-each&gt;  &lt;/xsl:variable&gt;  &lt;xsl:for-each   select=\'\'set:distinct(exsl:node-set($enames)/ename)\'\'&gt;   &lt;xsl:sort select=\'\'string()\'\'/&gt;   &lt;den&gt;&lt;xsl:value-of select=\'\'.\'\'/&gt;&lt;/den&gt;  &lt;/xsl:for-each&gt; &lt;/xsl:template&gt;&lt;/xsl:transform&gt;\', how =&gt; 5, enableExtensionFunctions =&gt; true)","SELECT javatest.prepareXMLTransformWithJava(\'getPLJavaVersion\',\'&lt;xsl:transform version=\'\'1.0\'\' xmlns:xsl=\'\'http://www.w3.org/1999/XSL/Transform\'\' xmlns:java=\'\'http://xml.apache.org/xalan/java\'\' exclude-result-prefixes=\'\'java\'\'&gt; &lt;xsl:template match=\'\'/\'\'&gt;  &lt;xsl:value-of   select=\'\'java:java.lang.System.getProperty(    \"org.postgresql.pljava.version\")\'\'  /&gt; &lt;/xsl:template&gt;&lt;/xsl:transform&gt;\', enableExtensionFunctions =&gt; true)","SELECT CASE WHEN  javatest.transformXML(\'distinctElementNames\',   \'&lt;a&gt;&lt;c/&gt;&lt;e/&gt;&lt;b/&gt;&lt;b/&gt;&lt;d/&gt;&lt;/a&gt;\', 5, 5)::text  =   \'&lt;den&gt;a&lt;/den&gt;&lt;den&gt;b&lt;/den&gt;&lt;den&gt;c&lt;/den&gt;&lt;den&gt;d&lt;/den&gt;&lt;den&gt;e&lt;/den&gt;\'  THEN javatest.logmessage(\'INFO\', \'XSLT 1.0 test succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'XSLT 1.0 test failed\') END","SELECT CASE WHEN  javatest.transformXML(\'getPLJavaVersion\', \'\')::text  OPERATOR(pg_catalog.=) extversion  THEN javatest.logmessage(\'INFO\', \'XSLT 1.0 with Java succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'XSLT 1.0 with Java failed\') END FROM pg_catalog.pg_extension WHERE extname = \'pljava\'"}) <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="xml_java_ge_22",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#requires()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">requires</a>="javaSpecificationGE",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>="SELECT CASE WHEN javatest.javaSpecificationGE(\'22\') THEN set_config(\'pljava.implementors\', \'xml_java_ge_22,\' ||  current_setting(\'pljava.implementors\'), true) END") <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLAction</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="xml_java_ge_22",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#requires()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">requires</a>="lowLevelXMLEcho",<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLAction.html#install()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">install</a>="WITH s(how) AS (SELECT unnest(\'{5,6,7}\'::int[])), r(isdoc) AS ( SELECT  javatest.lowlevelxmlecho(   \'&lt;!DOCTYPE a []&gt;&lt;a/&gt;\'::xml, how, params) IS DOCUMENT FROM  s,  (SELECT null::void AS ignoreDTD) AS params )SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\',    \'jdk.xml.dtd.support=ignore OK\')  ELSE javatest.logmessage(\'WARNING\', \'jdk.xml.dtd.support=ignore NG\') END FROM r")
<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/MappedUDT.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@MappedUDT</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/MappedUDT.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
           <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/MappedUDT.html#name()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">name</a>="onexml",
           <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/MappedUDT.html#structure()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">structure</a>="c1 xml",
           <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/MappedUDT.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
           <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/MappedUDT.html#comment()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">comment</a>="A composite type mapped by the PassXML example class")
</span><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-111">PassXML</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link">SQLData</a></span></div>
<div class="block">Class illustrating use of <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link"><code>SQLXML</code></a> to operate on XML data.
<p>
 This class also serves as the mapping class for a composite type
 <code>javatest.onexml</code>, the better to verify that <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link"><code>SQLData</code></a>
 input/output works too. That's why it has to implement SQLData.
<p>
 Everything mentioning the type XML here needs a conditional implementor tag
 in case of being loaded into a PostgreSQL instance built without that type.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="PassXML.SQLXMLMock.html" class="type-name-link" title="class in org.postgresql.pljava.example.annotation">PassXML.SQLXMLMock</a></code></div>
<div class="col-last even-row-color">
<div class="block">Class that will mock an <code>SQLXML</code> instance, returning only binary or
 character stream data from a byte array or string supplied at
 construction.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="PassXML.SQLXMLProxy.html" class="type-name-link" title="class in org.postgresql.pljava.example.annotation">PassXML.SQLXMLProxy</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Class that will proxy methods to another <code>SQLXML</code> class.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">PassXML</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">No-arg constructor required of objects that will implement
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link"><code>SQLData</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#allowFragment(javax.xml.transform.dom.DOMResult)" class="member-name-link">allowFragment</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/dom/DOMResult.html" title="class or interface in javax.xml.transform.dom" class="external-link">DOMResult</a>&nbsp;r)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Configure a <code>DOMResult</code> to accept <code>CONTENT</code> (a/k/a
 document fragment), not only the more restrictive <code>DOCUMENT</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T extends <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/Adjusting.XML.Parsing.html" title="class or interface in org.postgresql.pljava" class="external-link">Adjusting.XML.Parsing</a>&lt;? super T&gt;&gt;<br>T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#applyAdjustments(java.sql.ResultSet,T)" class="member-name-link">applyAdjustments</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust,
 T&nbsp;axp)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Apply adjustments (supplied as a row type with a named column for each
 desired adjustment and its value) to an instance of
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/Adjusting.XML.Parsing.html" title="class or interface in org.postgresql.pljava" class="external-link"><code>Adjusting.XML.Parsing</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#bounceXMLParameter(java.sql.SQLXML)" class="member-name-link">bounceXMLParameter</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">"Echo" an XML parameter not by creating a new writable <code>SQLXML</code>
 object at all, but simply returning the passed-in readable one untouched.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#bounceXMLParameter_(java.sql.SQLXML)" class="member-name-link">bounceXMLParameter_</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with parameter and return typed
 as <code>text</code>, and so usable on a PostgreSQL instance lacking the XML
 type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#castTextXML(java.sql.SQLXML)" class="member-name-link">castTextXML</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with the parameter typed as
 <code>text</code> and the return type left as XML, so functions as a cast.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#echoXMLParameter(java.sql.SQLXML,int,int)" class="member-name-link">echoXMLParameter</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;howin,
 int&nbsp;howout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Echo an XML parameter back, exercising seven different ways
 (howin =&gt; 1-7) of reading an SQLXML object, and seven
 (howout =&gt; 1-7) of returning one.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#echoXMLParameter_(java.sql.SQLXML,int,int)" class="member-name-link">echoXMLParameter_</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;howin,
 int&nbsp;howout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Echo an XML parameter back, but with parameter and return types of
 PostgreSQL <code>text</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ensureClosed(javax.xml.transform.Result,java.sql.SQLXML,int)" class="member-name-link">ensureClosed</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Result.html" title="class or interface in javax.xml.transform" class="external-link">Result</a>&nbsp;r,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Ensure the closing of whatever method was used to add content to
 an <code>SQLXML</code> object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSQLTypeName()" class="member-name-link">getSQLTypeName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inStringoutXML(java.lang.String)" class="member-name-link">inStringoutXML</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;in)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inXMLoutString(java.sql.SQLXML)" class="member-name-link">inXMLoutString</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;in)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#lowLevelXMLEcho(java.lang.String)" class="member-name-link">lowLevelXMLEcho</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;x)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Low-level XML echo where the Java parameter and return type are String.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#lowLevelXMLEcho(java.sql.SQLXML,int,java.sql.ResultSet)" class="member-name-link">lowLevelXMLEcho</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Echo the XML parameter back, using lower-level manipulations than
 <code>echoXMLParameter</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#lowLevelXMLEcho_(java.sql.SQLXML,int,java.sql.ResultSet)" class="member-name-link">lowLevelXMLEcho_</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Text-typed variant of lowLevelXMLEcho (does not require XML type).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#mockedXMLEcho(byte%5B%5D)" class="member-name-link">mockedXMLEcho</a><wbr>(byte[]&nbsp;bytes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Supply a sequence of bytes to be the exact (encoded) content of an XML
 value, which will be returned; if the encoding is not UTF-8, the value
 should begin with an XML Decl that names the encoding.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#mockedXMLEcho(java.lang.String)" class="member-name-link">mockedXMLEcho</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;chars)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Supply a sequence of characters to be the exact (Unicode) content of an
 XML value, which will be returned; if the value begins with an XML Decl
 that names an encoding, the content will be assumed to contain only
 characters representable in that encoding.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#prepareXMLSchema(java.lang.String,java.sql.SQLXML,java.lang.String,int)" class="member-name-link">prepareXMLSchema</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;lang,
 int&nbsp;how)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Precompile a schema <code>source</code> in schema language <code>lang</code>
 and save it (for the current session) as <code>name</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#prepareXMLTransform(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)" class="member-name-link">prepareXMLTransform</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 int&nbsp;how,
 boolean&nbsp;enableExtensionFunctions,
 boolean&nbsp;builtin,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#prepareXMLTransformWithJava(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)" class="member-name-link">prepareXMLTransformWithJava</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 int&nbsp;how,
 boolean&nbsp;enableExtensionFunctions,
 boolean&nbsp;builtin,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>, where the transform may call Java
 methods.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#proxiedXMLEcho(java.sql.SQLXML,int)" class="member-name-link">proxiedXMLEcho</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Proxy a PL/Java SQLXML source object as if it were of a non-PL/Java
 implementing class, to confirm that it can still be returned successfully
 to PostgreSQL.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readSQL(java.sql.SQLInput,java.lang.String)" class="member-name-link">readSQL</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLInput.html" title="class or interface in java.sql" class="external-link">SQLInput</a>&nbsp;stream,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#transformXML(java.lang.String,java.sql.SQLXML,int,int,java.sql.ResultSet,java.lang.Boolean,java.lang.Integer)" class="member-name-link">transformXML</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;transformName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 int&nbsp;howin,
 int&nbsp;howout,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&nbsp;indent,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;indentWidth)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Transform some XML according to a named transform prepared with
 <code>prepareXMLTransform</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#unclosedSQLXML(int,int)" class="member-name-link">unclosedSQLXML</a><wbr>(int&nbsp;howmany,
 int&nbsp;how)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create and leave some number of SQLXML objects unclosed, unused, and
 unreferenced, as a test of reclamation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeSQL(java.sql.SQLOutput)" class="member-name-link">writeSQL</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLOutput.html" title="class or interface in java.sql" class="external-link">SQLOutput</a>&nbsp;stream)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#xmlFromComposite()" class="member-name-link">xmlFromComposite</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Test the MappedUDT (in one direction anyway).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#xmlInStmtAndRS(java.sql.ResultSet)" class="member-name-link">xmlInStmtAndRS</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;out)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create some XML, pass it to a <code>SELECT ?</code> prepared statement,
 retrieve it from the result set, and return it via the out-parameter
 result set of this <code>RECORD</code>-returning function.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#xmlTextNode(byte%5B%5D,java.lang.String,int,boolean)" class="member-name-link">xmlTextNode</a><wbr>(byte[]&nbsp;stuff,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encoding,
 int&nbsp;how,
 boolean&nbsp;inElement)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Test serialization into the PostgreSQL server encoding by returning
 a text node, optionally wrapped in an element, containing the supplied
 stuff.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>PassXML</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1551">PassXML</a></span>()</div>
<div class="block">No-arg constructor required of objects that will implement
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link"><code>SQLData</code></a>.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="inXMLoutString(java.sql.SQLXML)">
<h3>inXMLoutString</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-326">inXMLoutString</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;in)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inStringoutXML(java.lang.String)">
<h3>inStringoutXML</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-332">inStringoutXML</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;in)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="echoXMLParameter(java.sql.SQLXML,int,int)">
<h3>echoXMLParameter</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="echoXMLParameter")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-372">echoXMLParameter</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;howin,
 int&nbsp;howout)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Echo an XML parameter back, exercising seven different ways
 (howin =&gt; 1-7) of reading an SQLXML object, and seven
 (howout =&gt; 1-7) of returning one.
<p>
 If howin =&gt; 0, the XML parameter is simply saved in a static. It can
 be read in a subsequent call with sx =&gt; null, but only in the same
 transaction.
<p>
 The "echoing" is done (in the <code>echoXML</code> method below) using a
 <code>Transformer</code>, that is, the "TrAX" Transformation API for XML
 supplied in Java. It illustrates how an identity <code>Transformer</code> can
 be used to get the XML content from the source to the result for any of
 the APIs selectable by howin and howout.
<p>
 It also illustrates something else. When using StAX (6 for howin
 or howout) and XML of the <code>CONTENT</code> flavor (multiple top-level
 elements, characters outside the top element, etc.), it is easy to
 construct examples that fail. The fault is not really with the StAX API,
 nor with TrAX proper, but with the small handful of bridge classes that
 were added to the JRE with StAX's first appearance, to make it
 interoperate with TrAX. It is not that those classes completely overlook
 the <code>CONTENT</code> case: they make some efforts to handle it. Just not
 the right ones, and given the Java developers' usual reluctance to change
 such longstanding behavior, that's probably not getting fixed.
<p>
 Moral: StAX is a nice API, have no fear to use it directly in
 freshly-developed code, but: when using TrAX, make every effort to supply
 a <code>Transformer</code> with <code>Source</code> and <code>Result</code> objects of
 <em>any</em> kind other than StAX.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="echoXMLParameter_(java.sql.SQLXML,int,int)">
<h3>echoXMLParameter_</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#name()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">name</a>="echoXMLParameter",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#type()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">type</a>="text")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-405">echoXMLParameter_</a></span><wbr><span class="parameters">(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>("text")
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;howin,
 int&nbsp;howout)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Echo an XML parameter back, but with parameter and return types of
 PostgreSQL <code>text</code>.
<p>
 The other version of this method needs a conditional implementor tag
 because it cannot be declared in a PostgreSQL instance that was built
 without <code>libxml</code> support and the PostgreSQL <code>XML</code> type.
 But this version can, simply by mapping the <code>SQLXML</code> parameter
 and return types to the SQL <code>text</code> type. The Java code is no
 different.
<p>
 Note that it's possible for both declarations to coexist in PostgreSQL
 (because as far as it is concerned, their signatures are different), but
 these two Java methods cannot have the same name (because they differ
 only in annotations, not in the declared Java types). So, this one needs
 a slightly tweaked name, and a <code>name</code> attribute in the annotation
 so PostgreSQL sees the right name.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bounceXMLParameter(java.sql.SQLXML)">
<h3>bounceXMLParameter</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-417">bounceXMLParameter</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx)</span>
                                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">"Echo" an XML parameter not by creating a new writable <code>SQLXML</code>
 object at all, but simply returning the passed-in readable one untouched.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bounceXMLParameter_(java.sql.SQLXML)">
<h3>bounceXMLParameter_</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#type()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">type</a>="text",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#name()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">name</a>="bounceXMLParameter")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-428">bounceXMLParameter_</a></span><wbr><span class="parameters">(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>("text")
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx)</span>
                                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with parameter and return typed
 as <code>text</code>, and so usable on a PostgreSQL instance lacking the XML
 type.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="castTextXML(java.sql.SQLXML)">
<h3>castTextXML</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-446">castTextXML</a></span><wbr><span class="parameters">(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>("text")
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with the parameter typed as
 <code>text</code> and the return type left as XML, so functions as a cast.
<p>
 Slower than the other cases, because it must verify that the input really
 is XML before blindly calling it a PostgreSQL XML type. But the speed
 compares respectably to PostgreSQL's own CAST(text AS xml), at least for
 larger values; I am seeing Java pull ahead right around 32kB of XML data
 and beat PG by a factor of 2 or better at sizes of 1 or 2 MB.
 Unsurprisingly, PG has the clear advantage when values are very short.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareXMLTransform(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)">
<h3>prepareXMLTransform</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="prepareXMLTransform")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-478">prepareXMLTransform</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="0")
 int&nbsp;how,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="false")
 boolean&nbsp;enableExtensionFunctions,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="true")
 boolean&nbsp;builtin,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>={})
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>.
<p>
 Each value of <code>how</code>, 1-7, selects a different way of presenting
 the <code>SQLXML</code> object to the XSL processor.
<p>
 Passing <code>true</code> for <code>enableExtensionFunctions</code> allows the
 transform to use extensions that the Java XSLT implementation supports,
 such as functions from EXSLT. Those are disabled by default.
<p>
 Passing <code>false</code> for <code>builtin</code> will allow a
 <code>TransformerFactory</code> other than Java's built-in one to be found
 using the usual search order and the context class loader (normally
 the PL/Java class path for the schema where this function is declared).
 The default of <code>true</code> ensures that the built-in Java XSLT 1.0
 implementation is used. A transformer implementation other than Xalan
 may not recognize the feature controlled by
 <code>enableExtensionFunctions</code>, so failure to configure that feature
 will be logged as a warning if <code>builtin</code> is <code>false</code>, instead
 of thrown as an exception.
<p>
 Out of the box, Java's transformers only support XSLT 1.0. See the S9
 example for more capabilities (at the cost of downloading the Saxon jar).</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareXMLTransformWithJava(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)">
<h3>prepareXMLTransformWithJava</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="prepareXMLTransform")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-529">prepareXMLTransformWithJava</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="0")
 int&nbsp;how,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="false")
 boolean&nbsp;enableExtensionFunctions,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="true")
 boolean&nbsp;builtin,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>={})
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</span>
                                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>, where the transform may call Java
 methods.
<p>
 Otherwise identical to <code>prepareXMLTransform</code>, this version sets the
 <code>TransformerFactory</code>'s <code>extensionClassLoader</code> (to the context
 class loader, normally the PL/Java class path for the schema where this
 function is declared), so the transform will be able to use
 xalan's Java call syntax to call any public Java methods that would be
 accessible to this class. (That can make a big difference in usefulness
 for the otherwise rather limited XSLT 1.0.)
<p>
 As with <code>enableExtensionFunctions</code>, failure by the transformer
 implementation to recognize or allow the <code>extensionClassLoader</code>
 property will be logged as a warning if <code>builtin</code> is <code>false</code>,
 rather than thrown as an exception.
<p>
 This example function will be installed with <code>EXECUTE</code> permission
 revoked from <code>PUBLIC</code>, as it essentially confers the ability to
 create arbitrary new Java functions, so should only be granted to roles
 you would be willing to grant <code>USAGE ON LANGUAGE java</code>.
<p>
 Because this function only prepares the transform, and
 <a href="#transformXML(java.lang.String,java.sql.SQLXML,int,int,java.sql.ResultSet,java.lang.Boolean,java.lang.Integer)"><code>transformXML</code></a> applies it, there is some division of
 labor in determining what limits apply to its behavior. The use of this
 method instead of <code>prepareXMLTransform</code> determines whether the
 transform is allowed to see external Java methods at all; it will be
 the policy permissions granted to <code>transformXML</code> that control what
 those methods can do when the transform is applied. For now, that method
 is defined in the trusted/sandboxed <code>java</code> language, so this
 function could reasonably be granted to any role with <code>USAGE</code> on
 <code>java</code>. If, by contrast, <code>transformXML</code> were declared in the
 'untrusted' <code>javaU</code>, it would be prudent to allow only superusers
 access to this function, just as only they can <code>CREATE FUNCTION</code> in
 an untrusted language.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transformXML(java.lang.String,java.sql.SQLXML,int,int,java.sql.ResultSet,java.lang.Boolean,java.lang.Integer)">
<h3>transformXML</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="transformXML")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-616">transformXML</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;transformName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="0")
 int&nbsp;howin,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>="0")
 int&nbsp;howout,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>={})
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#optional()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">optional</a>=true)
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a>&nbsp;indent,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#optional()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">optional</a>=true)
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;indentWidth)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Transform some XML according to a named transform prepared with
 <code>prepareXMLTransform</code>.
<p>
 Pass null for <code>transformName</code> to get a plain identity transform
 (not such an interesting thing to do, unless you also specify indenting).</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareXMLSchema(java.lang.String,java.sql.SQLXML,java.lang.String,int)">
<h3>prepareXMLSchema</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-682">prepareXMLSchema</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;source,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;lang,
 int&nbsp;how)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Precompile a schema <code>source</code> in schema language <code>lang</code>
 and save it (for the current session) as <code>name</code>.
<p>
 Each value of <code>how</code>, 1-7, selects a different way of presenting
 the <code>SQLXML</code> object to the schema parser.
<p>
 The <code>lang</code> parameter is a URI that identifies a known schema
 language. The only language a Java runtime is required to support is
 W3C XML Schema 1.0, with URI <code>http://www.w3.org/2001/XMLSchema</code>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lowLevelXMLEcho(java.sql.SQLXML,int,java.sql.ResultSet)">
<h3>lowLevelXMLEcho</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="lowLevelXMLEcho")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-756">lowLevelXMLEcho</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>={})
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Echo the XML parameter back, using lower-level manipulations than
 <code>echoXMLParameter</code>.
<p>
 This illustrates how the simple use of <code>t.transform(src,rlt)</code>
 in <code>echoSQLXML</code> substitutes for a lot of fiddly case-by-case code,
 but when coding for a specific case, all the generality of <code>
 transform</code> may not be needed. It can be interesting to compare memory use
 when XML values are large.
<p>
 This method has been revised to demonstrate, even for low-level
 manipulations, how much fiddliness can now be avoided through use of the
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/Adjusting.XML.SourceResult.html" title="class or interface in org.postgresql.pljava" class="external-link"><code>Adjusting.XML.SourceResult</code></a> class, and how to make adjustments to
 parsing restrictions by passing the optional row-typed parameter
 <em>adjust</em>, which defaults to an empty row. For example, passing
<pre>
 adjust =&gt; (select a from
            (true as allowdtd, true as expandentityreferences) as a)
</pre>
 would allow a document that contains an internal DTD subset and uses
 entities defined there.
<p>
 The older, pre-<code>SourceResult</code> code for doing low-level XML echo
 has been moved to the <code>oldSchoolLowLevelEcho</code> method below. It can
 still be exercised by calling this method, explicitly passing
 <code>adjust =&gt; NULL</code>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="applyAdjustments(java.sql.ResultSet,T)">
<h3 id="applyAdjustments(java.sql.ResultSet,org.postgresql.pljava.Adjusting.XML.Parsing)">applyAdjustments</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/Adjusting.XML.Parsing.html" title="class or interface in org.postgresql.pljava" class="external-link">Adjusting.XML.Parsing</a>&lt;? super T&gt;&gt;</span>
<span class="return-type">T</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-832">applyAdjustments</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust,
 T&nbsp;axp)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Apply adjustments (supplied as a row type with a named column for each
 desired adjustment and its value) to an instance of
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/Adjusting.XML.Parsing.html" title="class or interface in org.postgresql.pljava" class="external-link"><code>Adjusting.XML.Parsing</code></a>.
<p>
 Column names in the <em>adjust</em> row are case-insensitive versions of
 the method names in <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/Adjusting.XML.Parsing.html" title="class or interface in org.postgresql.pljava" class="external-link"><code>Adjusting.XML.Parsing</code></a>, and the value of each
 column should be of the appropriate type (if the method has a parameter).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>adjust</code> - A row type as described above, possibly of no columns if no
 adjustments are wanted</dd>
<dd><code>axp</code> - An instance of Adjusting.XML.Parsing</dd>
<dt>Returns:</dt>
<dd>axp, after applying any adjustments</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="proxiedXMLEcho(java.sql.SQLXML,int)">
<h3>proxiedXMLEcho</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="proxiedXMLEcho")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1058">proxiedXMLEcho</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Proxy a PL/Java SQLXML source object as if it were of a non-PL/Java
 implementing class, to confirm that it can still be returned successfully
 to PostgreSQL.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sx</code> - readable <code>SQLXML</code> object to proxy</dd>
<dd><code>how</code> - 1,2,4,5,6,7 determines what subclass of <code>Source</code> will be
 returned by <code>getSource</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mockedXMLEcho(byte[])">
<h3>mockedXMLEcho</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="mockedXMLEchoB")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1075">mockedXMLEcho</a></span><wbr><span class="parameters">(byte[]&nbsp;bytes)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Supply a sequence of bytes to be the exact (encoded) content of an XML
 value, which will be returned; if the encoding is not UTF-8, the value
 should begin with an XML Decl that names the encoding.
<p>
 Constructs an <code>SQLXML</code> instance that will return the supplied
 content as a <code>StreamSource</code> wrapping an <code>InputStream</code>, or via
 <code>getBinaryStream</code>, but fail if asked for any other form.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mockedXMLEcho(java.lang.String)">
<h3>mockedXMLEcho</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#provides()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">provides</a>="mockedXMLEchoC")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1093">mockedXMLEcho</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;chars)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Supply a sequence of characters to be the exact (Unicode) content of an
 XML value, which will be returned; if the value begins with an XML Decl
 that names an encoding, the content will be assumed to contain only
 characters representable in that encoding.
<p>
 Constructs an <code>SQLXML</code> instance that will return the supplied
 content as a <code>StreamSource</code> wrapping a <code>Reader</code>, or via
 <code>getCharacterStream</code>, but fail if asked for any other form.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lowLevelXMLEcho_(java.sql.SQLXML,int,java.sql.ResultSet)">
<h3>lowLevelXMLEcho_</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#name()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">name</a>="lowLevelXMLEcho",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#type()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">type</a>="text")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1104">lowLevelXMLEcho_</a></span><wbr><span class="parameters">(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>("text")
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how,
 <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html#defaultValue()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">defaultValue</a>={})
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;adjust)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Text-typed variant of lowLevelXMLEcho (does not require XML type).</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lowLevelXMLEcho(java.lang.String)">
<h3>lowLevelXMLEcho</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#type()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">type</a>="xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1116">lowLevelXMLEcho</a></span><wbr><span class="parameters">(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/SQLType.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@SQLType</a>("xml")
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;x)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Low-level XML echo where the Java parameter and return type are String.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="xmlInStmtAndRS(java.sql.ResultSet)">
<h3>xmlInStmtAndRS</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#type()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">type</a>="RECORD")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1128">xmlInStmtAndRS</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;out)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Create some XML, pass it to a <code>SELECT ?</code> prepared statement,
 retrieve it from the result set, and return it via the out-parameter
 result set of this <code>RECORD</code>-returning function.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="xmlTextNode(byte[],java.lang.String,int,boolean)">
<h3>xmlTextNode</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1180">xmlTextNode</a></span><wbr><span class="parameters">(byte[]&nbsp;stuff,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encoding,
 int&nbsp;how,
 boolean&nbsp;inElement)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Test serialization into the PostgreSQL server encoding by returning
 a text node, optionally wrapped in an element, containing the supplied
 stuff.
<p>
 The stuff is supplied as a <code>bytea</code> and a named <em>encoding</em>,
 so it is easy to supply stuff that isn't in the server encoding and see
 what the serializer does with it.
<p>
 As of this writing, if the <em>stuff</em>, decoded according to
 <em>encoding</em>, contains characters that are not representable in the
 server encoding, the serializers supplied in the JRE will:
<ul>
<li>SAX, DOM: replace the character with a numeric character reference if
 the node is wrapped in an element, but not outside of an element; there,
 PL/Java ensures an <code>UnmappableCharacterException</code> is thrown, as the
 serializer would otherwise silently lose information by replacing the
 character with a <code>?</code>.
<li>StAX: replace the character with a numeric character reference whether
 wrapped in an element or not (outside of an element, this officially
 violates the letter of the XML spec, but does not lose information, and
 is closer to the spirit of SQL/XML with its <code>XML(CONTENT)</code> type).
</ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>stuff</code> - Content to be used in the text node</dd>
<dd><code>encoding</code> - Name of an encoding; stuff will be decoded to Unicode
 according to this encoding, and then serialized into the server encoding,
 where possible.</dd>
<dd><code>how</code> - Integer specifying which XML API to test, like every other how
 in this class; here the only valid choices are 5 (SAX), 6 (StAX), or
 7 (DOM).</dd>
<dd><code>inElement</code> - True if the text node should be wrapped in an element.</dd>
<dt>Returns:</dt>
<dd>The resulting XML content.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unclosedSQLXML(int,int)">
<h3>unclosedSQLXML</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1250">unclosedSQLXML</a></span><wbr><span class="parameters">(int&nbsp;howmany,
 int&nbsp;how)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Create and leave some number of SQLXML objects unclosed, unused, and
 unreferenced, as a test of reclamation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>howmany</code> - Number of SQLXML instances to create.</dd>
<dd><code>how</code> - If nonzero, the flavor of writing to request on the object
 before abandoning it; if zero, it is left in its initial, writable state.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ensureClosed(javax.xml.transform.Result,java.sql.SQLXML,int)">
<h3>ensureClosed</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1426">ensureClosed</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Result.html" title="class or interface in javax.xml.transform" class="external-link">Result</a>&nbsp;r,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a>&nbsp;sx,
 int&nbsp;how)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Ensure the closing of whatever method was used to add content to
 an <code>SQLXML</code> object.
<p>
 Before a <code>SQLXML</code> object that has been written to can be used by
 PostgreSQL (returned as a function result, plugged in as a prepared
 statement parameter or into a <code>ResultSet</code>, etc.), the method used
 for writing it must be "closed" to ensure the writing is complete.
<p>
 If it is set with <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html#setString(java.lang.String)" title="class or interface in java.sql" class="external-link"><code>setString</code></a>, nothing more is
 needed; <code>setString</code> obviously sets the whole value at once. Any
 <code>OutputStream</code> or <code>Writer</code> obtained from
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html#setBinaryStream()" title="class or interface in java.sql" class="external-link"><code>setBinaryStream</code></a> or
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html#setCharacterStream()" title="class or interface in java.sql" class="external-link"><code>setCharacterStream</code></a>, or from
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html#setResult(java.lang.Class)" title="class or interface in java.sql" class="external-link"><code>setResult</code></a><code>(StreamResult.class)</code>, has to be
 explicitly closed (a <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Transformer.html" title="class or interface in javax.xml.transform" class="external-link"><code>Transformer</code></a> does not close its
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Result.html" title="class or interface in javax.xml.transform" class="external-link"><code>Result</code></a> when the transformation is complete!).
 Those are cases 1, 2, and 4 here.
<p>
 Cases 5 (<code>SAXResult</code>) and 6 (<code>StAXResult</code>) need no special
 attention; though the <code>Transformer</code> does not close them, the ones
 returned by this <code>SQLXML</code> implementation are set up to close
 themselves when the <code>endDocument</code> event is written.
<p>
 Case 3 (test of <code>setString</code> is handled specially here. As this
 class allows testing of all techniques for writing the <code>SQLXML</code>
 object, and most of those involve a <code>Result</code>, case 3 is handled
 by also constructing a <code>Result</code> over a <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/StringWriter.html" title="class or interface in java.io" class="external-link"><code>StringWriter</code></a> and
 having the content written into that; this method then extracts the
 content from the <code>StringWriter</code> and passes it to <code>setString</code>.
 For cases 1 and 2, likewise, the stream obtained with
 <code>getBinaryStream</code> or <code>getCharacterStream</code> has been wrapped in
 a <code>Result</code> for generality in this example.
<p>
 A typical application will not need the generality seen here; it
 will usually know which technique it is using to write the <code>SQLXML</code>
 object, and only needs to know how to close that if it needs closing.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>r</code> - The <code>Result</code> onto which writing was done.</dd>
<dd><code>sx</code> - The <code>SQLXML</code> object being written.</dd>
<dd><code>how</code> - The integer used in this example class to select which method
 of writing the <code>SQLXML</code> object was to be tested.</dd>
<dt>Returns:</dt>
<dd>The <code>SQLXML</code> object <code>sx</code>, because why not?</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allowFragment(javax.xml.transform.dom.DOMResult)">
<h3>allowFragment</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1478">allowFragment</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/dom/DOMResult.html" title="class or interface in javax.xml.transform.dom" class="external-link">DOMResult</a>&nbsp;r)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Configure a <code>DOMResult</code> to accept <code>CONTENT</code> (a/k/a
 document fragment), not only the more restrictive <code>DOCUMENT</code>.
<p>
 The other forms of <code>Result</code> that can be requested will happily
 accept <code>XML(CONTENT)</code> and not just <code>XML(DOCUMENT)</code>.
 The <code>DOMResult</code> is pickier, however: if you first call
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/dom/DOMResult.html#setNode(org.w3c.dom.Node)" title="class or interface in javax.xml.transform.dom" class="external-link"><code>setNode</code></a> with a <code>DocumentFragment</code>, it
 will accept either form, but if you leave the node unset when passing the
 <code>DOMResult</code> to a transformer, the transformer will default to
 putting a <code>Document</code> node there, and then it will not accept a
 fragment.
<p>
 If you need to handle fragments, this method illustrates how to pre-load
 the <code>DOMResult</code> with an empty <code>DocumentFragment</code>. Note that
 if you use some XML processing package that supplies its own classes
 implementing DOM nodes, you may need to use a <code>DocumentFragment</code>
 instance obtained from that package.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="xmlFromComposite()">
<h3>xmlFromComposite</h3>
<div class="member-signature"><span class="annotations"><a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html" title="class or interface in org.postgresql.pljava.annotation" class="external-link">@Function</a>(<a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#schema()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">schema</a>="javatest",
          <a href="../../../../../../../pljava-api/apidocs/org.postgresql.pljava/org/postgresql/pljava/annotation/Function.html#implementor()" title="class or interface in org.postgresql.pljava.annotation" class="external-link">implementor</a>="postgresql_xml")
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html" title="class or interface in java.sql" class="external-link">SQLXML</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1525">xmlFromComposite</a></span>()
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Test the MappedUDT (in one direction anyway).
<p>
 Creates a <code>PassXML</code> object, the Java class that maps the
 <code>javatest.onexml</code> composite type, which has one member, of XML
 type. Stores a <code>SQLXML</code> value in that field of the <code>PassXML</code>
 object, and passes that to an SQL query that expects and returns
 <code>javatest.onexml</code>. Retrieves the XML from the value field of the
 <code>PassXML</code> object created to map the result of the query.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The original XML value, if all goes well.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSQLTypeName()">
<h3>getSQLTypeName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1556">getSQLTypeName</a></span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html#getSQLTypeName()" title="class or interface in java.sql" class="external-link">getSQLTypeName</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link">SQLData</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readSQL(java.sql.SQLInput,java.lang.String)">
<h3>readSQL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1559">readSQL</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLInput.html" title="class or interface in java.sql" class="external-link">SQLInput</a>&nbsp;stream,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</span>
             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html#readSQL(java.sql.SQLInput,java.lang.String)" title="class or interface in java.sql" class="external-link">readSQL</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link">SQLData</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeSQL(java.sql.SQLOutput)">
<h3>writeSQL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line-1566">writeSQL</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLOutput.html" title="class or interface in java.sql" class="external-link">SQLOutput</a>&nbsp;stream)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html#writeSQL(java.sql.SQLOutput)" title="class or interface in java.sql" class="external-link">writeSQL</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html" title="class or interface in java.sql" class="external-link">SQLData</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2003&#x2013;2025<a href='http://tada.se/eng/'>Tada AB</a></small></p>
</footer>
</div>
</div>
</body>
</html>
