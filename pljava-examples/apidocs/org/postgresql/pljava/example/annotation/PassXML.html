<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (12.0.2) on Sat Oct 19 20:26:48 EDT 2024 -->
<title>PassXML (PL/Java examples 1.6.8)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-10-19">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PassXML (PL/Java examples 1.6.8)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":10,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":10,"i21":9,"i22":9,"i23":10,"i24":9,"i25":9,"i26":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PassXML.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.postgresql.pljava.example.annotation</a></div>
<h2 title="Class PassXML" class="title">Class PassXML</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.postgresql.pljava.example.annotation.PassXML</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLData</a></code></dd>
</dl>
<hr>
<pre>@SQLAction(provides="postgresql_xml",install="SELECT CASE (SELECT 1 FROM pg_type WHERE typname = \'xml\') WHEN 1 THEN set_config(\'pljava.implementors\', \'postgresql_xml,\' ||  current_setting(\'pljava.implementors\'), true) END") @SQLAction(implementor="postgresql_xml",requires="echoXMLParameter",install="WITH s(how) AS (SELECT generate_series(1, 7)), t(x) AS (  SELECT table_to_xml(\'pg_catalog.pg_operator\', true, false, \'\') ), r(howin, howout, isdoc) AS (  SELECT   i.how, o.how,   javatest.echoxmlparameter(x, i.how, o.how) IS DOCUMENT  FROM   t, s AS i, s AS o  WHERE   NOT (i.how = 6 and o.how = 7) ) SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'SQLXML echos succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'SQLXML echos had problems\') END FROM r") @SQLAction(implementor="postgresql_xml",requires="proxiedXMLEcho",install="WITH s(how) AS (SELECT unnest(\'{1,2,4,5,6,7}\'::int[])), t(x) AS (  SELECT table_to_xml(\'pg_catalog.pg_operator\', true, false, \'\') ), r(how, isdoc) AS (  SELECT\thow,\tjavatest.proxiedxmlecho(x, how) IS DOCUMENT  FROM\tt, s )SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'proxied SQLXML echos succeeded\')  ELSE javatest.logmessage(\'WARNING\',       \'proxied SQLXML echos had problems\') END FROM r") @SQLAction(implementor="postgresql_xml",requires="lowLevelXMLEcho",install={"SELECT preparexmlschema(\'schematest\', $$&lt;xs:schema xmlns:xs=\'http://www.w3.org/2001/XMLSchema\' targetNamespace=\'urn:testme\' elementFormDefault=\'qualified\'&gt; &lt;xs:element name=\'row\'&gt;  &lt;xs:complexType&gt;   &lt;xs:sequence&gt;    &lt;xs:element name=\'textcol\' type=\'xs:string\' nillable=\'true\'/&gt;    &lt;xs:element name=\'intcol\' type=\'xs:integer\' nillable=\'true\'/&gt;   &lt;/xs:sequence&gt;  &lt;/xs:complexType&gt; &lt;/xs:element&gt;&lt;/xs:schema&gt;$$, \'http://www.w3.org/2001/XMLSchema\', 5)","WITH s(how) AS (SELECT unnest(\'{4,5,7}\'::int[])), r(isdoc) AS ( SELECT  javatest.lowlevelxmlecho(   query_to_xml(    \'SELECT \'\'hi\'\' AS textcol, 1 AS intcol\', true, true, \'urn:testme\'   ), how, params) IS DOCUMENT FROM  s,  (SELECT \'schematest\' AS schema) AS params )SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'XML Schema tests succeeded\')  ELSE javatest.logmessage(\'WARNING\',       \'XML Schema tests had problems\') END FROM r"}) @SQLAction(implementor="postgresql_xml",requires={"prepareXMLTransform","transformXML"},install={"REVOKE EXECUTE ON FUNCTION javatest.prepareXMLTransformWithJava (pg_catalog.varchar, pg_catalog.xml, integer, boolean, boolean,  pg_catalog.RECORD) FROM PUBLIC","SELECT javatest.prepareXMLTransform(\'distinctElementNames\',\'&lt;xsl:transform version=\'\'1.0\'\' xmlns:xsl=\'\'http://www.w3.org/1999/XSL/Transform\'\' xmlns:exsl=\'\'http://exslt.org/common\'\' xmlns:set=\'\'http://exslt.org/sets\'\' extension-element-prefixes=\'\'exsl set\'\'&gt; &lt;xsl:output method=\'\'xml\'\' indent=\'\'no\'\'/&gt; &lt;xsl:template match=\'\'/\'\'&gt;  &lt;xsl:variable name=\'\'enames\'\'&gt;   &lt;xsl:for-each select=\'\'//*\'\'&gt;    &lt;ename&gt;&lt;xsl:value-of select=\'\'local-name()\'\'/&gt;&lt;/ename&gt;   &lt;/xsl:for-each&gt;  &lt;/xsl:variable&gt;  &lt;xsl:for-each   select=\'\'set:distinct(exsl:node-set($enames)/ename)\'\'&gt;   &lt;xsl:sort select=\'\'string()\'\'/&gt;   &lt;den&gt;&lt;xsl:value-of select=\'\'.\'\'/&gt;&lt;/den&gt;  &lt;/xsl:for-each&gt; &lt;/xsl:template&gt;&lt;/xsl:transform&gt;\', how =&gt; 5, enableExtensionFunctions =&gt; true)","SELECT javatest.prepareXMLTransformWithJava(\'getPLJavaVersion\',\'&lt;xsl:transform version=\'\'1.0\'\' xmlns:xsl=\'\'http://www.w3.org/1999/XSL/Transform\'\' xmlns:java=\'\'http://xml.apache.org/xalan/java\'\' exclude-result-prefixes=\'\'java\'\'&gt; &lt;xsl:template match=\'\'/\'\'&gt;  &lt;xsl:value-of   select=\'\'java:java.lang.System.getProperty(    \"org.postgresql.pljava.version\")\'\'  /&gt; &lt;/xsl:template&gt;&lt;/xsl:transform&gt;\', enableExtensionFunctions =&gt; true)","SELECT CASE WHEN  javatest.transformXML(\'distinctElementNames\',   \'&lt;a&gt;&lt;c/&gt;&lt;e/&gt;&lt;b/&gt;&lt;b/&gt;&lt;d/&gt;&lt;/a&gt;\', 5, 5)::text  =   \'&lt;den&gt;a&lt;/den&gt;&lt;den&gt;b&lt;/den&gt;&lt;den&gt;c&lt;/den&gt;&lt;den&gt;d&lt;/den&gt;&lt;den&gt;e&lt;/den&gt;\'  THEN javatest.logmessage(\'INFO\', \'XSLT 1.0 test succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'XSLT 1.0 test failed\') END","SELECT CASE WHEN  javatest.transformXML(\'getPLJavaVersion\', \'\')::text  OPERATOR(pg_catalog.=) extversion  THEN javatest.logmessage(\'INFO\', \'XSLT 1.0 with Java succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'XSLT 1.0 with Java failed\') END FROM pg_catalog.pg_extension WHERE extname = \'pljava\'"}) @SQLAction(implementor="postgresql_xml",provides="xml_java_ge_22",requires="javaSpecificationGE",install="SELECT CASE WHEN javatest.javaSpecificationGE(\'22\') THEN set_config(\'pljava.implementors\', \'xml_java_ge_22,\' ||  current_setting(\'pljava.implementors\'), true) END") @SQLAction(implementor="xml_java_ge_22",requires="lowLevelXMLEcho",install="WITH s(how) AS (SELECT unnest(\'{5,6,7}\'::int[])), r(isdoc) AS ( SELECT  javatest.lowlevelxmlecho(   \'&lt;!DOCTYPE a []&gt;&lt;a/&gt;\'::xml, how, params) IS DOCUMENT FROM  s,  (SELECT null::void AS ignoreDTD) AS params )SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\',    \'jdk.xml.dtd.support=ignore OK\')  ELSE javatest.logmessage(\'WARNING\', \'jdk.xml.dtd.support=ignore NG\') END FROM r")
@MappedUDT(schema="javatest",
           name="onexml",
           structure="c1 xml",
           implementor="postgresql_xml",
           comment="A composite type mapped by the PassXML example class")
public class <a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.110">PassXML</a>
extends <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLData</a></pre>
<div class="block">Class illustrating use of <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink"><code>SQLXML</code></a> to operate on XML data.
<p>
 This class also serves as the mapping class for a composite type
 <code>javatest.onexml</code>, the better to verify that <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink"><code>SQLData</code></a>
 input/output works too. That's why it has to implement SQLData.
<p>
 Everything mentioning the type XML here needs a conditional implementor tag
 in case of being loaded into a PostgreSQL instance built without that type.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="PassXML.SQLXMLMock.html" title="class in org.postgresql.pljava.example.annotation">PassXML.SQLXMLMock</a></span></code></th>
<td class="colLast">
<div class="block">Class that will mock an <code>SQLXML</code> instance, returning only binary or
 character stream data from a byte array or string supplied at
 construction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="PassXML.SQLXMLProxy.html" title="class in org.postgresql.pljava.example.annotation">PassXML.SQLXMLProxy</a></span></code></th>
<td class="colLast">
<div class="block">Class that will proxy methods to another <code>SQLXML</code> class.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">PassXML</a></span>()</code></th>
<td class="colLast">
<div class="block">No-arg constructor required of objects that will implement
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink"><code>SQLData</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allowFragment(javax.xml.transform.dom.DOMResult)">allowFragment</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/dom/DOMResult.html?is-external=true" title="class or interface in javax.xml.transform.dom" class="externalLink">DOMResult</a>&nbsp;r)</code></th>
<td class="colLast">
<div class="block">Configure a <code>DOMResult</code> to accept <code>CONTENT</code> (a/k/a
 document fragment), not only the more restrictive <code>DOCUMENT</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static &lt;T extends org.postgresql.pljava.Adjusting.XML.Parsing&lt;? super T&gt;&gt;<br>T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#applyAdjustments(java.sql.ResultSet,T)">applyAdjustments</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust,
                T&nbsp;axp)</code></th>
<td class="colLast">
<div class="block">Apply adjustments (supplied as a row type with a named column for each
 desired adjustment and its value) to an instance of
 <code>Adjusting.XML.Parsing</code>.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bounceXMLParameter(java.sql.SQLXML)">bounceXMLParameter</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx)</code></th>
<td class="colLast">
<div class="block">"Echo" an XML parameter not by creating a new writable <code>SQLXML</code>
 object at all, but simply returning the passed-in readable one untouched.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bounceXMLParameter_(java.sql.SQLXML)">bounceXMLParameter_</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx)</code></th>
<td class="colLast">
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with parameter and return typed
 as <code>text</code>, and so usable on a PostgreSQL instance lacking the XML
 type.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#castTextXML(java.sql.SQLXML)">castTextXML</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx)</code></th>
<td class="colLast">
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with the parameter typed as
 <code>text</code> and the return type left as XML, so functions as a cast.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#echoXMLParameter(java.sql.SQLXML,int,int)">echoXMLParameter</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                int&nbsp;howin,
                int&nbsp;howout)</code></th>
<td class="colLast">
<div class="block">Echo an XML parameter back, exercising seven different ways
 (howin =&gt; 1-7) of reading an SQLXML object, and seven
 (howout =&gt; 1-7) of returning one.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#echoXMLParameter_(java.sql.SQLXML,int,int)">echoXMLParameter_</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                 int&nbsp;howin,
                 int&nbsp;howout)</code></th>
<td class="colLast">
<div class="block">Echo an XML parameter back, but with parameter and return types of
 PostgreSQL <code>text</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensureClosed(javax.xml.transform.Result,java.sql.SQLXML,int)">ensureClosed</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">Result</a>&nbsp;r,
            <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
            int&nbsp;how)</code></th>
<td class="colLast">
<div class="block">Ensure the closing of whatever method was used to add content to
 an <code>SQLXML</code> object.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSQLTypeName()">getSQLTypeName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inStringoutXML(java.lang.String)">inStringoutXML</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;in)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inXMLoutString(java.sql.SQLXML)">inXMLoutString</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;in)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lowLevelXMLEcho(java.lang.String)">lowLevelXMLEcho</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;x)</code></th>
<td class="colLast">
<div class="block">Low-level XML echo where the Java parameter and return type are String.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lowLevelXMLEcho(java.sql.SQLXML,int,java.sql.ResultSet)">lowLevelXMLEcho</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
               int&nbsp;how,
               <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)</code></th>
<td class="colLast">
<div class="block">Echo the XML parameter back, using lower-level manipulations than
 <code>echoXMLParameter</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lowLevelXMLEcho_(java.sql.SQLXML,int,java.sql.ResultSet)">lowLevelXMLEcho_</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                int&nbsp;how,
                <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)</code></th>
<td class="colLast">
<div class="block">Text-typed variant of lowLevelXMLEcho (does not require XML type).</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mockedXMLEcho(byte%5B%5D)">mockedXMLEcho</a></span>&#8203;(byte[]&nbsp;bytes)</code></th>
<td class="colLast">
<div class="block">Supply a sequence of bytes to be the exact (encoded) content of an XML
 value, which will be returned; if the encoding is not UTF-8, the value
 should begin with an XML Decl that names the encoding.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mockedXMLEcho(java.lang.String)">mockedXMLEcho</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;chars)</code></th>
<td class="colLast">
<div class="block">Supply a sequence of characters to be the exact (Unicode) content of an
 XML value, which will be returned; if the value begins with an XML Decl
 that names an encoding, the content will be assumed to contain only
 characters representable in that encoding.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepareXMLSchema(java.lang.String,java.sql.SQLXML,java.lang.String,int)">prepareXMLSchema</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;lang,
                int&nbsp;how)</code></th>
<td class="colLast">
<div class="block">Precompile a schema <code>source</code> in schema language <code>lang</code>
 and save it (for the current session) as <code>name</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepareXMLTransform(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)">prepareXMLTransform</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                   <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                   int&nbsp;how,
                   boolean&nbsp;enableExtensionFunctions,
                   boolean&nbsp;builtin,
                   <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)</code></th>
<td class="colLast">
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>.</div>
</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepareXMLTransformWithJava(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)">prepareXMLTransformWithJava</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                           <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                           int&nbsp;how,
                           boolean&nbsp;enableExtensionFunctions,
                           boolean&nbsp;builtin,
                           <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)</code></th>
<td class="colLast">
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>, where the transform may call Java
 methods.</div>
</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#proxiedXMLEcho(java.sql.SQLXML,int)">proxiedXMLEcho</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
              int&nbsp;how)</code></th>
<td class="colLast">
<div class="block">Proxy a PL/Java SQLXML source object as if it were of a non-PL/Java
 implementing class, to confirm that it can still be returned successfully
 to PostgreSQL.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readSQL(java.sql.SQLInput,java.lang.String)">readSQL</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLInput.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLInput</a>&nbsp;stream,
       <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;typeName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#transformXML(java.lang.String,java.sql.SQLXML,int,int,java.sql.ResultSet,java.lang.Boolean,java.lang.Integer)">transformXML</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;transformName,
            <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
            int&nbsp;howin,
            int&nbsp;howout,
            <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust,
            <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&nbsp;indent,
            <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;indentWidth)</code></th>
<td class="colLast">
<div class="block">Transform some XML according to a named transform prepared with
 <code>prepareXMLTransform</code>.</div>
</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unclosedSQLXML(int,int)">unclosedSQLXML</a></span>&#8203;(int&nbsp;howmany,
              int&nbsp;how)</code></th>
<td class="colLast">
<div class="block">Create and leave some number of SQLXML objects unclosed, unused, and
 unreferenced, as a test of reclamation.</div>
</td>
</tr>
<tr class="rowColor" id="i23">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeSQL(java.sql.SQLOutput)">writeSQL</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLOutput.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLOutput</a>&nbsp;stream)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i24">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#xmlFromComposite()">xmlFromComposite</a></span>()</code></th>
<td class="colLast">
<div class="block">Test the MappedUDT (in one direction anyway).</div>
</td>
</tr>
<tr class="rowColor" id="i25">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#xmlInStmtAndRS(java.sql.ResultSet)">xmlInStmtAndRS</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;out)</code></th>
<td class="colLast">
<div class="block">Create some XML, pass it to a <code>SELECT ?</code> prepared statement,
 retrieve it from the result set, and return it via the out-parameter
 result set of this <code>RECORD</code>-returning function.</div>
</td>
</tr>
<tr class="altColor" id="i26">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#xmlTextNode(byte%5B%5D,java.lang.String,int,boolean)">xmlTextNode</a></span>&#8203;(byte[]&nbsp;stuff,
           <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;encoding,
           int&nbsp;how,
           boolean&nbsp;inElement)</code></th>
<td class="colLast">
<div class="block">Test serialization into the PostgreSQL server encoding by returning
 a text node, optionally wrapped in an element, containing the supplied
 stuff.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PassXML</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1548">PassXML</a>()</pre>
<div class="block">No-arg constructor required of objects that will implement
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink"><code>SQLData</code></a>.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="inXMLoutString(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inXMLoutString</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.325">inXMLoutString</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;in)
                             throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="inStringoutXML(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inStringoutXML</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.331">inStringoutXML</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;in)
                             throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="echoXMLParameter(java.sql.SQLXML,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>echoXMLParameter</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="echoXMLParameter")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.371">echoXMLParameter</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                                      int&nbsp;howin,
                                      int&nbsp;howout)
                               throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Echo an XML parameter back, exercising seven different ways
 (howin =&gt; 1-7) of reading an SQLXML object, and seven
 (howout =&gt; 1-7) of returning one.
<p>
 If howin =&gt; 0, the XML parameter is simply saved in a static. It can
 be read in a subsequent call with sx =&gt; null, but only in the same
 transaction.
<p>
 The "echoing" is done (in the <code>echoXML</code> method below) using a
 <code>Transformer</code>, that is, the "TrAX" Transformation API for XML
 supplied in Java. It illustrates how an identity <code>Transformer</code> can
 be used to get the XML content from the source to the result for any of
 the APIs selectable by howin and howout.
<p>
 It also illustrates something else. When using StAX (6 for howin
 or howout) and XML of the <code>CONTENT</code> flavor (multiple top-level
 elements, characters outside the top element, etc.), it is easy to
 construct examples that fail. The fault is not really with the StAX API,
 nor with TrAX proper, but with the small handful of bridge classes that
 were added to the JRE with StAX's first appearance, to make it
 interoperate with TrAX. It is not that those classes completely overlook
 the <code>CONTENT</code> case: they make some efforts to handle it. Just not
 the right ones, and given the Java developers' usual reluctance to change
 such longstanding behavior, that's probably not getting fixed.
<p>
 Moral: StAX is a nice API, have no fear to use it directly in
 freshly-developed code, but: when using TrAX, make every effort to supply
 a <code>Transformer</code> with <code>Source</code> and <code>Result</code> objects of
 <em>any</em> kind other than StAX.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="echoXMLParameter_(java.sql.SQLXML,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>echoXMLParameter_</h4>
<pre class="methodSignature">@Function(schema="javatest",
          name="echoXMLParameter",
          type="text")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.404">echoXMLParameter_</a>&#8203;(@SQLType("text")
                                       <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                                       int&nbsp;howin,
                                       int&nbsp;howout)
                                throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Echo an XML parameter back, but with parameter and return types of
 PostgreSQL <code>text</code>.
<p>
 The other version of this method needs a conditional implementor tag
 because it cannot be declared in a PostgreSQL instance that was built
 without <code>libxml</code> support and the PostgreSQL <code>XML</code> type.
 But this version can, simply by mapping the <code>SQLXML</code> parameter
 and return types to the SQL <code>text</code> type. The Java code is no
 different.
<p>
 Note that it's possible for both declarations to coexist in PostgreSQL
 (because as far as it is concerned, their signatures are different), but
 these two Java methods cannot have the same name (because they differ
 only in annotations, not in the declared Java types). So, this one needs
 a slightly tweaked name, and a <code>name</code> attribute in the annotation
 so PostgreSQL sees the right name.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="bounceXMLParameter(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bounceXMLParameter</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.416">bounceXMLParameter</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx)
                                 throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">"Echo" an XML parameter not by creating a new writable <code>SQLXML</code>
 object at all, but simply returning the passed-in readable one untouched.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="bounceXMLParameter_(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bounceXMLParameter_</h4>
<pre class="methodSignature">@Function(schema="javatest",
          type="text",
          name="bounceXMLParameter")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.427">bounceXMLParameter_</a>&#8203;(@SQLType("text")
                                         <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx)
                                  throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with parameter and return typed
 as <code>text</code>, and so usable on a PostgreSQL instance lacking the XML
 type.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="castTextXML(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>castTextXML</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.445">castTextXML</a>&#8203;(@SQLType("text")
                                 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx)
                          throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Just like <a href="#bounceXMLParameter(java.sql.SQLXML)"><code>bounceXMLParameter(java.sql.SQLXML)</code></a> but with the parameter typed as
 <code>text</code> and the return type left as XML, so functions as a cast.
<p>
 Slower than the other cases, because it must verify that the input really
 is XML before blindly calling it a PostgreSQL XML type. But the speed
 compares respectably to PostgreSQL's own CAST(text AS xml), at least for
 larger values; I am seeing Java pull ahead right around 32kB of XML data
 and beat PG by a factor of 2 or better at sizes of 1 or 2 MB.
 Unsurprisingly, PG has the clear advantage when values are very short.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="prepareXMLTransform(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareXMLTransform</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="prepareXMLTransform")
public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.477">prepareXMLTransform</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                                       <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                                       @SQLType(defaultValue="0")
                                       int&nbsp;how,
                                       @SQLType(defaultValue="false")
                                       boolean&nbsp;enableExtensionFunctions,
                                       @SQLType(defaultValue="true")
                                       boolean&nbsp;builtin,
                                       @SQLType(defaultValue={})
                                       <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)
                                throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>.
<p>
 Each value of <code>how</code>, 1-7, selects a different way of presenting
 the <code>SQLXML</code> object to the XSL processor.
<p>
 Passing <code>true</code> for <code>enableExtensionFunctions</code> allows the
 transform to use extensions that the Java XSLT implementation supports,
 such as functions from EXSLT. Those are disabled by default.
<p>
 Passing <code>false</code> for <code>builtin</code> will allow a
 <code>TransformerFactory</code> other than Java's built-in one to be found
 using the usual search order and the context class loader (normally
 the PL/Java class path for the schema where this function is declared).
 The default of <code>true</code> ensures that the built-in Java XSLT 1.0
 implementation is used. A transformer implementation other than Xalan
 may not recognize the feature controlled by
 <code>enableExtensionFunctions</code>, so failure to configure that feature
 will be logged as a warning if <code>builtin</code> is <code>false</code>, instead
 of thrown as an exception.
<p>
 Out of the box, Java's transformers only support XSLT 1.0. See the S9
 example for more capabilities (at the cost of downloading the Saxon jar).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="prepareXMLTransformWithJava(java.lang.String,java.sql.SQLXML,int,boolean,boolean,java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareXMLTransformWithJava</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="prepareXMLTransform")
public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.528">prepareXMLTransformWithJava</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                                               <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                                               @SQLType(defaultValue="0")
                                               int&nbsp;how,
                                               @SQLType(defaultValue="false")
                                               boolean&nbsp;enableExtensionFunctions,
                                               @SQLType(defaultValue="true")
                                               boolean&nbsp;builtin,
                                               @SQLType(defaultValue={})
                                               <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)
                                        throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>, where the transform may call Java
 methods.
<p>
 Otherwise identical to <code>prepareXMLTransform</code>, this version sets the
 <code>TransformerFactory</code>'s <code>extensionClassLoader</code> (to the context
 class loader, normally the PL/Java class path for the schema where this
 function is declared), so the transform will be able to use
 xalan's Java call syntax to call any public Java methods that would be
 accessible to this class. (That can make a big difference in usefulness
 for the otherwise rather limited XSLT 1.0.)
<p>
 As with <code>enableExtensionFunctions</code>, failure by the transformer
 implementation to recognize or allow the <code>extensionClassLoader</code>
 property will be logged as a warning if <code>builtin</code> is <code>false</code>,
 rather than thrown as an exception.
<p>
 This example function will be installed with <code>EXECUTE</code> permission
 revoked from <code>PUBLIC</code>, as it essentially confers the ability to
 create arbitrary new Java functions, so should only be granted to roles
 you would be willing to grant <code>USAGE ON LANGUAGE java</code>.
<p>
 Because this function only prepares the transform, and
 <a href="#transformXML(java.lang.String,java.sql.SQLXML,int,int,java.sql.ResultSet,java.lang.Boolean,java.lang.Integer)"><code>transformXML</code></a> applies it, there is some division of
 labor in determining what limits apply to its behavior. The use of this
 method instead of <code>prepareXMLTransform</code> determines whether the
 transform is allowed to see external Java methods at all; it will be
 the policy permissions granted to <code>transformXML</code> that control what
 those methods can do when the transform is applied. For now, that method
 is defined in the trusted/sandboxed <code>java</code> language, so this
 function could reasonably be granted to any role with <code>USAGE</code> on
 <code>java</code>. If, by contrast, <code>transformXML</code> were declared in the
 'untrusted' <code>javaU</code>, it would be prudent to allow only superusers
 access to this function, just as only they can <code>CREATE FUNCTION</code> in
 an untrusted language.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="transformXML(java.lang.String,java.sql.SQLXML,int,int,java.sql.ResultSet,java.lang.Boolean,java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformXML</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="transformXML")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.615">transformXML</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;transformName,
                                  <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                                  @SQLType(defaultValue="0")
                                  int&nbsp;howin,
                                  @SQLType(defaultValue="0")
                                  int&nbsp;howout,
                                  @SQLType(defaultValue={})
                                  <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust,
                                  @SQLType(optional=true)
                                  <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang" class="externalLink">Boolean</a>&nbsp;indent,
                                  @SQLType(optional=true)
                                  <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&nbsp;indentWidth)
                           throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Transform some XML according to a named transform prepared with
 <code>prepareXMLTransform</code>.
<p>
 Pass null for <code>transformName</code> to get a plain identity transform
 (not such an interesting thing to do, unless you also specify indenting).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="prepareXMLSchema(java.lang.String,java.sql.SQLXML,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareXMLSchema</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.680">prepareXMLSchema</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                                    <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;source,
                                    <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;lang,
                                    int&nbsp;how)
                             throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Precompile a schema <code>source</code> in schema language <code>lang</code>
 and save it (for the current session) as <code>name</code>.
<p>
 Each value of <code>how</code>, 1-7, selects a different way of presenting
 the <code>SQLXML</code> object to the schema parser.
<p>
 The <code>lang</code> parameter is a URI that identifies a known schema
 language. The only language a Java runtime is required to support is
 W3C XML Schema 1.0, with URI <code>http://www.w3.org/2001/XMLSchema</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="lowLevelXMLEcho(java.sql.SQLXML,int,java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lowLevelXMLEcho</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="lowLevelXMLEcho")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.753">lowLevelXMLEcho</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                                     int&nbsp;how,
                                     @SQLType(defaultValue={})
                                     <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)
                              throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Echo the XML parameter back, using lower-level manipulations than
 <code>echoXMLParameter</code>.
<p>
 This illustrates how the simple use of <code>t.transform(src,rlt)</code>
 in <code>echoSQLXML</code> substitutes for a lot of fiddly case-by-case code,
 but when coding for a specific case, all the generality of <code>
 transform</code> may not be needed. It can be interesting to compare memory use
 when XML values are large.
<p>
 This method has been revised to demonstrate, even for low-level
 manipulations, how much fiddliness can now be avoided through use of the
 <code>Adjusting.XML.SourceResult</code> class, and how to make adjustments to
 parsing restrictions by passing the optional row-typed parameter
 <em>adjust</em>, which defaults to an empty row. For example, passing
<pre>
 adjust =&gt; (select a from
            (true as allowdtd, true as expandentityreferences) as a)
</pre>
 would allow a document that contains an internal DTD subset and uses
 entities defined there.
<p>
 The older, pre-<code>SourceResult</code> code for doing low-level XML echo
 has been moved to the <code>oldSchoolLowLevelEcho</code> method below. It can
 still be exercised by calling this method, explicitly passing
 <code>adjust =&gt; NULL</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="applyAdjustments(java.sql.ResultSet,org.postgresql.pljava.Adjusting.XML.Parsing)">
<!--   -->
</a><a id="applyAdjustments(java.sql.ResultSet,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyAdjustments</h4>
<pre class="methodSignature">public static&nbsp;&lt;T extends org.postgresql.pljava.Adjusting.XML.Parsing&lt;? super T&gt;&gt;&nbsp;T&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.829">applyAdjustments</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust,
                                                                                                    T&nbsp;axp)
                                                                                             throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Apply adjustments (supplied as a row type with a named column for each
 desired adjustment and its value) to an instance of
 <code>Adjusting.XML.Parsing</code>.
<p>
 Column names in the <em>adjust</em> row are case-insensitive versions of
 the method names in <code>Adjusting.XML.Parsing</code>, and the value of each
 column should be of the appropriate type (if the method has a parameter).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>adjust</code> - A row type as described above, possibly of no columns if no
 adjustments are wanted</dd>
<dd><code>axp</code> - An instance of Adjusting.XML.Parsing</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>axp, after applying any adjustments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="proxiedXMLEcho(java.sql.SQLXML,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proxiedXMLEcho</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="proxiedXMLEcho")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1055">proxiedXMLEcho</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                                    int&nbsp;how)
                             throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Proxy a PL/Java SQLXML source object as if it were of a non-PL/Java
 implementing class, to confirm that it can still be returned successfully
 to PostgreSQL.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sx</code> - readable <code>SQLXML</code> object to proxy</dd>
<dd><code>how</code> - 1,2,4,5,6,7 determines what subclass of <code>Source</code> will be
 returned by <code>getSource</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="mockedXMLEcho(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mockedXMLEcho</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="mockedXMLEchoB")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1072">mockedXMLEcho</a>&#8203;(byte[]&nbsp;bytes)
                            throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Supply a sequence of bytes to be the exact (encoded) content of an XML
 value, which will be returned; if the encoding is not UTF-8, the value
 should begin with an XML Decl that names the encoding.
<p>
 Constructs an <code>SQLXML</code> instance that will return the supplied
 content as a <code>StreamSource</code> wrapping an <code>InputStream</code>, or via
 <code>getBinaryStream</code>, but fail if asked for any other form.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="mockedXMLEcho(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mockedXMLEcho</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          provides="mockedXMLEchoC")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1090">mockedXMLEcho</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;chars)
                            throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Supply a sequence of characters to be the exact (Unicode) content of an
 XML value, which will be returned; if the value begins with an XML Decl
 that names an encoding, the content will be assumed to contain only
 characters representable in that encoding.
<p>
 Constructs an <code>SQLXML</code> instance that will return the supplied
 content as a <code>StreamSource</code> wrapping a <code>Reader</code>, or via
 <code>getCharacterStream</code>, but fail if asked for any other form.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="lowLevelXMLEcho_(java.sql.SQLXML,int,java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lowLevelXMLEcho_</h4>
<pre class="methodSignature">@Function(schema="javatest",
          name="lowLevelXMLEcho",
          type="text")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1101">lowLevelXMLEcho_</a>&#8203;(@SQLType("text")
                                      <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                                      int&nbsp;how,
                                      @SQLType(defaultValue={})
                                      <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;adjust)
                               throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Text-typed variant of lowLevelXMLEcho (does not require XML type).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="lowLevelXMLEcho(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lowLevelXMLEcho</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml",
          type="xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1113">lowLevelXMLEcho</a>&#8203;(@SQLType("xml")
                                     <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;x)
                              throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Low-level XML echo where the Java parameter and return type are String.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="xmlInStmtAndRS(java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xmlInStmtAndRS</h4>
<pre class="methodSignature">@Function(schema="javatest",
          type="RECORD")
public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1125">xmlInStmtAndRS</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;out)
                              throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Create some XML, pass it to a <code>SELECT ?</code> prepared statement,
 retrieve it from the result set, and return it via the out-parameter
 result set of this <code>RECORD</code>-returning function.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="xmlTextNode(byte[],java.lang.String,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xmlTextNode</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1177">xmlTextNode</a>&#8203;(byte[]&nbsp;stuff,
                                 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;encoding,
                                 int&nbsp;how,
                                 boolean&nbsp;inElement)
                          throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block">Test serialization into the PostgreSQL server encoding by returning
 a text node, optionally wrapped in an element, containing the supplied
 stuff.
<p>
 The stuff is supplied as a <code>bytea</code> and a named <em>encoding</em>,
 so it is easy to supply stuff that isn't in the server encoding and see
 what the serializer does with it.
<p>
 As of this writing, if the <em>stuff</em>, decoded according to
 <em>encoding</em>, contains characters that are not representable in the
 server encoding, the serializers supplied in the JRE will:
<ul>
<li>SAX, DOM: replace the character with a numeric character reference if
 the node is wrapped in an element, but not outside of an element; there,
 PL/Java ensures an <code>UnmappableCharacterException</code> is thrown, as the
 serializer would otherwise silently lose information by replacing the
 character with a <code>?</code>.
<li>StAX: replace the character with a numeric character reference whether
 wrapped in an element or not (outside of an element, this officially
 violates the letter of the XML spec, but does not lose information, and
 is closer to the spirit of SQL/XML with its <code>XML(CONTENT)</code> type).
</ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stuff</code> - Content to be used in the text node</dd>
<dd><code>encoding</code> - Name of an encoding; stuff will be decoded to Unicode
 according to this encoding, and then serialized into the server encoding,
 where possible.</dd>
<dd><code>how</code> - Integer specifying which XML API to test, like every other how
 in this class; here the only valid choices are 5 (SAX), 6 (StAX), or
 7 (DOM).</dd>
<dd><code>inElement</code> - True if the text node should be wrapped in an element.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The resulting XML content.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code></dd>
</dl>
</li>
</ul>
<a id="unclosedSQLXML(int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unclosedSQLXML</h4>
<pre class="methodSignature">@Function(schema="javatest")
public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1247">unclosedSQLXML</a>&#8203;(int&nbsp;howmany,
                                  int&nbsp;how)
                           throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Create and leave some number of SQLXML objects unclosed, unused, and
 unreferenced, as a test of reclamation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>howmany</code> - Number of SQLXML instances to create.</dd>
<dd><code>how</code> - If nonzero, the flavor of writing to request on the object
 before abandoning it; if zero, it is left in its initial, writable state.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="ensureClosed(javax.xml.transform.Result,java.sql.SQLXML,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureClosed</h4>
<pre class="methodSignature">public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1423">ensureClosed</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">Result</a>&nbsp;r,
                                  <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;sx,
                                  int&nbsp;how)
                           throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Ensure the closing of whatever method was used to add content to
 an <code>SQLXML</code> object.
<p>
 Before a <code>SQLXML</code> object that has been written to can be used by
 PostgreSQL (returned as a function result, plugged in as a prepared
 statement parameter or into a <code>ResultSet</code>, etc.), the method used
 for writing it must be "closed" to ensure the writing is complete.
<p>
 If it is set with <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true#setString(java.lang.String)" title="class or interface in java.sql" class="externalLink"><code>setString</code></a>, nothing more is
 needed; <code>setString</code> obviously sets the whole value at once. Any
 <code>OutputStream</code> or <code>Writer</code> obtained from
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true#setBinaryStream()" title="class or interface in java.sql" class="externalLink"><code>setBinaryStream</code></a> or
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true#setCharacterStream()" title="class or interface in java.sql" class="externalLink"><code>setCharacterStream</code></a>, or from
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true#setResult(java.lang.Class)" title="class or interface in java.sql" class="externalLink"><code>setResult</code></a><code>(StreamResult.class)</code>, has to be
 explicitly closed (a <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Transformer.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink"><code>Transformer</code></a> does not close its
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink"><code>Result</code></a> when the transformation is complete!).
 Those are cases 1, 2, and 4 here.
<p>
 Cases 5 (<code>SAXResult</code>) and 6 (<code>StAXResult</code>) need no special
 attention; though the <code>Transformer</code> does not close them, the ones
 returned by this <code>SQLXML</code> implementation are set up to close
 themselves when the <code>endDocument</code> event is written.
<p>
 Case 3 (test of <code>setString</code> is handled specially here. As this
 class allows testing of all techniques for writing the <code>SQLXML</code>
 object, and most of those involve a <code>Result</code>, case 3 is handled
 by also constructing a <code>Result</code> over a <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/StringWriter.html?is-external=true" title="class or interface in java.io" class="externalLink"><code>StringWriter</code></a> and
 having the content written into that; this method then extracts the
 content from the <code>StringWriter</code> and passes it to <code>setString</code>.
 For cases 1 and 2, likewise, the stream obtained with
 <code>getBinaryStream</code> or <code>getCharacterStream</code> has been wrapped in
 a <code>Result</code> for generality in this example.
<p>
 A typical application will not need the generality seen here; it
 will usually know which technique it is using to write the <code>SQLXML</code>
 object, and only needs to know how to close that if it needs closing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The <code>Result</code> onto which writing was done.</dd>
<dd><code>sx</code> - The <code>SQLXML</code> object being written.</dd>
<dd><code>how</code> - The integer used in this example class to select which method
 of writing the <code>SQLXML</code> object was to be tested.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>SQLXML</code> object <code>sx</code>, because why not?</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="allowFragment(javax.xml.transform.dom.DOMResult)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowFragment</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1475">allowFragment</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/dom/DOMResult.html?is-external=true" title="class or interface in javax.xml.transform.dom" class="externalLink">DOMResult</a>&nbsp;r)
                          throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Configure a <code>DOMResult</code> to accept <code>CONTENT</code> (a/k/a
 document fragment), not only the more restrictive <code>DOCUMENT</code>.
<p>
 The other forms of <code>Result</code> that can be requested will happily
 accept <code>XML(CONTENT)</code> and not just <code>XML(DOCUMENT)</code>.
 The <code>DOMResult</code> is pickier, however: if you first call
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.xml/javax/xml/transform/dom/DOMResult.html?is-external=true#setNode(org.w3c.dom.Node)" title="class or interface in javax.xml.transform.dom" class="externalLink"><code>setNode</code></a> with a <code>DocumentFragment</code>, it
 will accept either form, but if you leave the node unset when passing the
 <code>DOMResult</code> to a transformer, the transformer will default to
 putting a <code>Document</code> node there, and then it will not accept a
 fragment.
<p>
 If you need to handle fragments, this method illustrates how to pre-load
 the <code>DOMResult</code> with an empty <code>DocumentFragment</code>. Note that
 if you use some XML processing package that supplies its own classes
 implementing DOM nodes, you may need to use a <code>DocumentFragment</code>
 instance obtained from that package.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="xmlFromComposite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xmlFromComposite</h4>
<pre class="methodSignature">@Function(schema="javatest",
          implementor="postgresql_xml")
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLXML</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1522">xmlFromComposite</a>()
                               throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">Test the MappedUDT (in one direction anyway).
<p>
 Creates a <code>PassXML</code> object, the Java class that maps the
 <code>javatest.onexml</code> composite type, which has one member, of XML
 type. Stores a <code>SQLXML</code> value in that field of the <code>PassXML</code>
 object, and passes that to an SQL query that expects and returns
 <code>javatest.onexml</code>. Retrieves the XML from the value field of the
 <code>PassXML</code> object created to map the result of the query.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The original XML value, if all goes well.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="getSQLTypeName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSQLTypeName</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1553">getSQLTypeName</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true#getSQLTypeName()" title="class or interface in java.sql" class="externalLink">getSQLTypeName</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLData</a></code></dd>
</dl>
</li>
</ul>
<a id="readSQL(java.sql.SQLInput,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readSQL</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1556">readSQL</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLInput.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLInput</a>&nbsp;stream,
                    <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;typeName)
             throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true#readSQL(java.sql.SQLInput,java.lang.String)" title="class or interface in java.sql" class="externalLink">readSQL</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLData</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="writeSQL(java.sql.SQLOutput)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeSQL</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/PassXML.html#line.1563">writeSQL</a>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLOutput.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLOutput</a>&nbsp;stream)
              throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true#writeSQL(java.sql.SQLOutput)" title="class or interface in java.sql" class="externalLink">writeSQL</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLData</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PassXML.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2003&#x2013;2024<a href='http://tada.se/eng/'>Tada AB</a></small></p>
</footer>
</body>
</html>
