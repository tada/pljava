<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (12.0.2) on Wed Jan 19 18:07:09 EST 2022 -->
<title>Aggregates (PL/Java examples 1.6.4)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-01-19">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Aggregates (PL/Java examples 1.6.4)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Aggregates.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.postgresql.pljava.example.annotation</a></div>
<h2 title="Class Aggregates" class="title">Class Aggregates</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.postgresql.pljava.example.annotation.Aggregates</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>@SQLAction(requires={"avgx","avgy","slope","intercept"},
           install="WITH data (y, x) AS (VALUES  (1.761 ::float8, 5.552::float8),  (1.775,          5.963),  (1.792,          6.135),  (1.884,          6.313),  (1.946,          6.713) ), expected (avgx, avgy, slope, intercept) AS (  SELECT 6.1352, 1.8316, 0.1718, 0.7773 ), got AS (  SELECT    round(     avgx(y,x)::numeric, 4) AS avgx,    round(     avgy(y,x)::numeric, 4) AS avgy,    round(    slope(y,x)::numeric, 4) AS slope,    round(intercept(y,x)::numeric, 4) AS intercept   FROM    data )SELECT  CASE WHEN expected IS NOT DISTINCT FROM got  THEN javatest.logmessage(\'INFO\', \'aggregate examples ok\')  ELSE javatest.logmessage(\'WARNING\', \'aggregate examples ng\')  END FROM  expected, got")
@Aggregate(provides="avgx",name={"javatest","avgx"},arguments={"y double precision","x double precision"},plan=@Plan(stateType="double precision[]",stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"},finish={"javatest","finishAvgX"})) @Aggregate(provides="avgy",name={"javatest","avgy"},arguments={"y double precision","x double precision"},plan=@Plan(stateType="double precision[]",stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"},finish={"javatest","finishAvgY"})) @Aggregate(provides="slope",name={"javatest","slope"},arguments={"y double precision","x double precision"},plan=@Plan(stateType="double precision[]",stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"},finish={"javatest","finishSlope"})) @Aggregate(provides="intercept",name={"javatest","intercept"},arguments={"y double precision","x double precision"},plan=@Plan(stateType="double precision[]",stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"},finish={"javatest","finishIntercept"})) @Aggregate(name="javatest.regression",arguments={"y double precision","x double precision"},plan=@Plan(stateType="double precision[]",stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"},finish={"javatest","finishRegr"}),movingPlan=@Plan(stateType="double precision[]",stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"},remove={"javatest","removeXY"},finish={"javatest","finishRegr"}))
public class <a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.43">Aggregates</a>
extends <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">A class demonstrating several aggregate functions.
<p>
 They are (some of) the same two-variable statistical aggregates already
 offered in core PostgreSQL, just because they make clear examples. For
 numerical reasons, they might not produce results identical to PG's built-in
 ones. These closely follow the "schoolbook" formulas in the HP-11C calculator
 owner's handbook, while the ones built into PostgreSQL use a more clever
 algorithm instead to reduce rounding error in the finishers.
<p>
 All these aggregates can be computed by different finishers that share a
 state that accumulates the count of rows, sum of x, sum of xx, sum of y, sum
 of yy, and sum of xy. That is easy with finishers that don't need to modify
 the state, so the default <code>FinishEffect=READ_ONLY</code> is appropriate.
<p>
 Everything here takes the y parameter first, then x, like the SQL ones.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accumulateXY(double%5B%5D,double,double)">accumulateXY</a></span>&#8203;(double[]&nbsp;state,
            double&nbsp;y,
            double&nbsp;x)</code></th>
<td class="colLast">
<div class="block">A common accumulator for two-variable statistical aggregates that
 depend on n, Sx, Sxx, Sy, Syy, and Sxy.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#count(double%5B%5D)">count</a></span>&#8203;(double[]&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Finisher that returns the count of non-null rows accumulated.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishAvgX(double%5B%5D)">finishAvgX</a></span>&#8203;(double[]&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Finisher that returns the mean of the accumulated x values.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishAvgY(double%5B%5D)">finishAvgY</a></span>&#8203;(double[]&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Finisher that returns the mean of the accumulated y values.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishIntercept(double%5B%5D)">finishIntercept</a></span>&#8203;(double[]&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Finisher that returns the intercept of a regression line.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishRegr(double%5B%5D,java.sql.ResultSet)">finishRegr</a></span>&#8203;(double[]&nbsp;state,
          <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;out)</code></th>
<td class="colLast">
<div class="block">A finisher that returns the slope and intercept together.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishSlope(double%5B%5D)">finishSlope</a></span>&#8203;(double[]&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Finisher that returns the slope of a regression line.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>static double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeXY(double%5B%5D,double,double)">removeXY</a></span>&#8203;(double[]&nbsp;state,
        double&nbsp;y,
        double&nbsp;x)</code></th>
<td class="colLast">
<div class="block">'Removes' from the state a row previously accumulated, for possible use
 in a window with a moving frame start.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sum(double,double)">sum</a></span>&#8203;(double&nbsp;state,
   double&nbsp;x)</code></th>
<td class="colLast">
<div class="block">An example aggregate that sums its input.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="accumulateXY(double[],double,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accumulateXY</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;double[]&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.179">accumulateXY</a>&#8203;(double[]&nbsp;state,
                                    double&nbsp;y,
                                    double&nbsp;x)</pre>
<div class="block">A common accumulator for two-variable statistical aggregates that
 depend on n, Sx, Sxx, Sy, Syy, and Sxy.</div>
</li>
</ul>
<a id="removeXY(double[],double,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeXY</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;double[]&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.201">removeXY</a>&#8203;(double[]&nbsp;state,
                                double&nbsp;y,
                                double&nbsp;x)</pre>
<div class="block">'Removes' from the state a row previously accumulated, for possible use
 in a window with a moving frame start.
<p>
 This can be a numerically poor idea for exactly the reasons covered in
 the PostgreSQL docs involving loss of significance in long sums, but it
 does demonstrate the idea.</div>
</li>
</ul>
<a id="count(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre class="methodSignature">@Aggregate(arguments={"y double precision","x double precision"},
           plan=@Plan(stateSize=72,initialState="{0,0,0,0,0,0}",accumulate={"javatest","accumulateXY"}))
@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;long&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.230">count</a>&#8203;(double[]&nbsp;state)</pre>
<div class="block">Finisher that returns the count of non-null rows accumulated.
<p>
 As an alternative to collecting all <code>@Aggregate</code> annotations up at
 the top of the class and specifying everything explicitly, an
 <code>@Aggregate</code> annotation can be placed on a method, either
 the accumulator or the finisher, in which case less needs to be
 specified. The state type can always be determined from the annotated
 method (whether it is the accumulator or the finisher), and its SQL name
 will be the default name for the aggregate also. When the method is the
 accumulator, the aggregate's arguments are also determined.
<p>
 This being a finisher method, the <code>@Aggregate</code> annotation placed
 here does need to specify the arguments, initial state, and accumulator.</div>
</li>
</ul>
<a id="finishAvgX(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishAvgX</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.249">finishAvgX</a>&#8203;(double[]&nbsp;state)</pre>
<div class="block">Finisher that returns the mean of the accumulated x values.</div>
</li>
</ul>
<a id="finishAvgY(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishAvgY</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.262">finishAvgY</a>&#8203;(double[]&nbsp;state)</pre>
<div class="block">Finisher that returns the mean of the accumulated y values.</div>
</li>
</ul>
<a id="finishSlope(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishSlope</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.275">finishSlope</a>&#8203;(double[]&nbsp;state)</pre>
<div class="block">Finisher that returns the slope of a regression line.</div>
</li>
</ul>
<a id="finishIntercept(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishIntercept</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.291">finishIntercept</a>&#8203;(double[]&nbsp;state)</pre>
<div class="block">Finisher that returns the intercept of a regression line.</div>
</li>
</ul>
<a id="finishRegr(double[],java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishRegr</h4>
<pre class="methodSignature">@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL,
          out={"slope double precision","intercept double precision"})
public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.312">finishRegr</a>&#8203;(double[]&nbsp;state,
                                 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql" class="externalLink">ResultSet</a>&nbsp;out)
                          throws <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></pre>
<div class="block">A finisher that returns the slope and intercept together.
<p>
 An aggregate can be built over this finisher and will return a record
 result, but at present (PG 13) access to that record by field doesn't
 work, as its tuple descriptor gets lost along the way. Unclear so far
 whether it might be feasible to fix that.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql" class="externalLink">SQLException</a></code></dd>
</dl>
</li>
</ul>
<a id="sum(double,double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sum</h4>
<pre class="methodSignature">@Aggregate
@Function(schema="javatest",
          effects=IMMUTABLE,
          onNullInput=RETURNS_NULL)
public static&nbsp;double&nbsp;<a href="../../../../../src-html/org/postgresql/pljava/example/annotation/Aggregates.html#line.331">sum</a>&#8203;(double&nbsp;state,
                         double&nbsp;x)</pre>
<div class="block">An example aggregate that sums its input.
<p>
 The simplest kind of aggregate, having only an accumulate function,
 default initial state, and no finisher (the state value is the return)
 can be declared very concisely by annotating the accumulate method.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Aggregates.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2003&#x2013;2022<a href='http://tada.se/eng/'>Tada AB</a></small></p>
</footer>
</body>
</html>
