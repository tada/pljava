<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="readme_files/filelist.xml">
<title>First release of the PL/Java</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceName"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceType"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Thomas Hallgren</o:Author>
  <o:LastAuthor>Thomas Hallgren</o:LastAuthor>
  <o:Revision>4</o:Revision>
  <o:TotalTime>2112</o:TotalTime>
  <o:LastPrinted>2004-01-22T14:03:00Z</o:LastPrinted>
  <o:Created>2004-01-24T11:01:00Z</o:Created>
  <o:LastSaved>2004-01-27T13:55:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>715</o:Words>
  <o:Characters>4076</o:Characters>
  <o:Lines>33</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4782</o:CharactersWithSpaces>
  <o:Version>10.3501</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>125</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:DrawingGridHorizontalSpacing>0 pt</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>0 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:DrawingGridHorizontalOrigin>0 pt</w:DrawingGridHorizontalOrigin>
  <w:DrawingGridVerticalOrigin>0 pt</w:DrawingGridVerticalOrigin>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Luxi Sans";
	mso-font-alt:Arial;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"HG Mincho Light J";
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:none;
	mso-hyphenate:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Courier;
	mso-fareast-font-family:"HG Mincho Light J";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-hyphenate:none;
	font-size:16.0pt;
	font-family:Arial;
	mso-fareast-font-family:"HG Mincho Light J";
	color:black;
	mso-font-kerning:16.0pt;
	font-weight:bold;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-hyphenate:none;
	font-size:14.0pt;
	font-family:Arial;
	mso-fareast-font-family:"HG Mincho Light J";
	color:black;
	font-weight:bold;
	font-style:italic;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-hyphenate:none;
	font-size:13.0pt;
	font-family:Arial;
	mso-fareast-font-family:"HG Mincho Light J";
	color:black;
	font-weight:bold;}
p.MsoList, li.MsoList, div.MsoList
	{mso-style-parent:"Body Text";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:none;
	mso-hyphenate:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Courier;
	mso-fareast-font-family:"HG Mincho Light J";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:none;
	mso-hyphenate:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Courier;
	mso-fareast-font-family:"HG Mincho Light J";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
a:link, span.MsoHyperlink
	{mso-style-parent:"";
	color:navy;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:none;
	mso-hyphenate:none;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"HG Mincho Light J";
	color:black;}
code
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
p.Heading, li.Heading, div.Heading
	{mso-style-name:Heading;
	mso-style-next:"Body Text";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:none;
	page-break-after:avoid;
	mso-hyphenate:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Luxi Sans";
	mso-fareast-font-family:"HG Mincho Light J";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
p.Caption1, li.Caption1, div.Caption1
	{mso-style-name:Caption1;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:no-line-numbers;
	mso-hyphenate:none;
	font-size:10.0pt;
	font-family:Courier;
	mso-fareast-font-family:"HG Mincho Light J";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-style:italic;
	mso-bidi-font-style:normal;}
p.Index, li.Index, div.Index
	{mso-style-name:Index;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:no-line-numbers;
	mso-hyphenate:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Courier;
	mso-fareast-font-family:"HG Mincho Light J";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
span.NumberingSymbols
	{mso-style-name:"Numbering Symbols";
	mso-style-parent:"";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
 /* Page Definitions */
 @page
	{mso-footnote-position:beneath-text;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;
	mso-footnote-position:beneath-text;}
 /* List Definitions */
 @list l0
	{mso-list-id:155848022;
	mso-list-type:hybrid;
	mso-list-template-ids:-2085966524 67698711 -1171861176 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:686104911;
	mso-list-type:hybrid;
	mso-list-template-ids:-485453258 67698711 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2
	{mso-list-id:1256590557;
	mso-list-type:hybrid;
	mso-list-template-ids:1383615288 418303372 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:"Times New Roman";}
@list l2:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=EN-US link=navy vlink=purple style='tab-interval:62.5pt;line-break:
strict'>

<div class=Section1>

<h1><span class=GramE>PL/Java, 1.0.0 beta.</span></h1>

<p>With this release, the Pl/Java project has reached its second major
milestone. It is now possible to write triggers and functions without any
knowledge about the <span class=SpellE>PostgreSQL</span> backend internals.
Instead of using <span class=SpellE>Tuple</span>, <span class=SpellE>TupleDesc</span>,
and SPI functions, you use well known JDBC interfaces like Connection, <span
class=SpellE>PreparedStatement</span>, and <span class=SpellE>ResultSet</span>.
Jar files are stored in the database and can be loaded, changed, or removed using
SQL standard procedure calls.</p>

<p><o:p>&nbsp;</o:p></p>

<p>Two binary releases can be found in the download area. One for Windows (<span
class=SpellE>cygwin</span> required until the Win32 native <st1:place><st1:PlaceType>port</st1:PlaceType>
 of <st1:PlaceName><span class=SpellE>PostgreSQL</span></st1:PlaceName></st1:place>
is released), and one for Linux on Intel-platform. The reason for the limited
set of binaries is that I have a limited set of machines. All code is plain C
and Java and should be very portable.</p>

<h1>How to get started</h1>

<p>See to that you have a Java 1.4 and <span class=SpellE>PostgreSQL</span> 7.4
including its JDBC drivers installed on your machine. A JRE (runtime
environment) will suffice if you use the binary distribution. You don’t need
the JDK unless you plan to compile.</p>

<h2>Postmaster configuration.</h2>

<p>Get the <span class=SpellE>PostgreSQL</span> environment up and running. You
will need to modify the <span class=SpellE><code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>postgresql.conf</span></code></span>
file so that:</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The postmaster accepts TCP/IP connections
(needed for the JDBC driver). Simply uncomment the line that says:<br>
<code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>#
<span class=SpellE>tcpip_socket</span> = false</span></code><br>
and then change the <code><span style='font-size:10.0pt;mso-fareast-font-family:
"HG Mincho Light J"'>false</span></code> to a <code><span style='font-size:
10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>true</span></code>.</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Further down, you’ll find the entry for <span
class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>dynamic_library_path</span></code></span>.
Uncomment this entry too and change it so that the postmaster will find the
shared library, i.e. the path must include the directory that contains the <span
class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>libpljava.so</span></code></span>
or <code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>pljava.dll</span></code>
(which one is depending on your OS).</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><code><span style='mso-ansi-font-size:
12.0pt;mso-bidi-font-size:12.0pt;font-family:"Times New Roman"'><span
style='mso-list:Ignore'>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></code><![endif]>In order to see the logging from the
tests, also change the <span class=SpellE><code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>log_min_messages</span></code></span>
to <code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>info.</span></code><code><span
style='mso-ansi-font-size:12.0pt;mso-bidi-font-size:12.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"HG Mincho Light J"'><o:p></o:p></span></code></p>

<p><o:p>&nbsp;</o:p></p>

<p>The <span class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:
"HG Mincho Light J"'>postgresql.conf</span></code></span> have no entry to
configure Java specific environment variables yet so you will need to make two
external environment settings available to the postmaster process:</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>CLASSPATH</span></code> must
include the full path to <span class=SpellE><code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>pljava.jar</span></code></span>.</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>LD_LIBRARY_PATH</span></code>
(Unix) or <code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>PATH</span></code>
(Windows) must be set so that the loader finds the shared libraries used by the
JVM. A standard install on an Intel Linux box will need: <code><span
style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>LD_LIBRARY_PATH=$JAVA_HOME/jre/lib/i386:$JAVA_HOME/jre/lib/i386/client</span></code>.</p>

<p><o:p>&nbsp;</o:p></p>

<p>With that in place, you are ready to start the postmaster.</p>

<p><o:p>&nbsp;</o:p></p>

<p><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>Deploying
the Pl/Java<o:p></o:p></span></code></p>

<p>Pl/Java adds a schema named SQLJ to the database (the naming is from the
proposed SQL standard for Java backend mapping) and adds a couple of tables and
functions to that schema. A deploy program exists that should be used for this
purpose. In order to run this program, you must see to that the <span
class=SpellE>PostgreSQL</span> <span class=SpellE>jdbc</span> driver package <span
class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>postgresql.jar</span></code></span>
and the <span class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:
"HG Mincho Light J"'>deploy.jar</span></code></span> file is in your <code><span
style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>CLASSPATH</span></code>,
then run:</p>

<p><o:p>&nbsp;</o:p></p>

<p><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>java
<span class=SpellE>org.postgresql.pljava.deploy.Deployer</span></span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
</span><br>
This will result in a list of options. Typically you would use something like:</p>

<p><o:p>&nbsp;</o:p></p>

<p><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>java
<span class=SpellE>org.postgresql.pljava.deploy.Deployer</span> –install –user
&lt;your name&gt;</span></code><span style='font-size:10.0pt;font-family:"Courier New"'><br
style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]><code><span style='mso-fareast-font-family:"HG Mincho Light J"'><o:p></o:p></span></code></span></p>

<p>That’s all there’s to it. You are now ready to start using the Pl/Java
system. If the server runs on a windows system you will need to add the option <code><span
style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>–windows</span></code>.
The reason for this is that <span class=SpellE>PostgreSQL</span> and Java dynamic
loading uses different naming on <span class=GramE>Unix</span>.</p>

<h1>Run the example tests.</h1>

<p>The tests are divided into two jar files. One is the client part, the <span
class=SpellE>org.postgresql.pljava.test.Tester</span> class found in the <span
class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>test.jar</span></code></span>.
It contains some methods that executes SQL statements and prints the output
(all contained there can of course also be executed from <span class=SpellE>psql</span>
or any other client). The other is the <span class=SpellE><code><span
style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>example.jar</span></code></span>
which contains the sample code that runs in the backend. The latter must be
installed in the database in order to function. An easy way to do this is to
use <span class=SpellE>psql</span> and issue the command:</p>

<p><o:p>&nbsp;</o:p></p>

<p>SELECT <span class=SpellE>sqlj.install_jar</span>(‘samples’,
‘file:///some/directory/<span class=SpellE>example.jar</span>’, true);</p>

<p><o:p>&nbsp;</o:p></p>

<p>If this command succeeds, everything is working correctly. You may get a couple
of errors here though.</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l2 level1 lfo6;
tab-stops:list .5in'><![if !supportLists]><span style='mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>A complaint that the class <span class=SpellE><code><span
style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>org.postgresql.pljava.internal.Oid</span></code></span>
cannot be found.<br>
The probable cause of this is that the <code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>CLASSPATH</span></code> seen by
the postmaster is incorrect so that the <span class=SpellE>pljava.jar</span> is
not found.</p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l2 level1 lfo6;
tab-stops:list .5in'><![if !supportLists]><span style='mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>A complaint that the <span class=SpellE>libpljava.so</span>
or pljava.dll cannot be found. Probable cause is that the <span class=SpellE><code><span
style='font-size:10.0pt;mso-fareast-font-family:"HG Mincho Light J"'>Dynamic_library_path</span></code></span>
in the <span class=SpellE><code><span style='font-size:10.0pt;mso-fareast-font-family:
"HG Mincho Light J"'>postgresql.conf</span></code></span> file is incorrect.</p>

<p><o:p>&nbsp;</o:p></p>

<p>Once loaded, you must also set the classpath used by the Pl/Java runtime.
This classpath is set per schema (namespace). A schema that lacks a classpath
will default to the classpath that has been set for the public schema. The
tests will use the schema <span class=SpellE><code><span style='font-size:10.0pt;
mso-fareast-font-family:"HG Mincho Light J"'>javatest</span></code></span>. To
define the classpath for this schema, simply use <span class=SpellE>psql</span>
and issue the command:</p>

<p><o:p>&nbsp;</o:p></p>

<p>SELECT <span class=SpellE>sqlj.set_classpath</span>(‘<span class=SpellE>javatest</span>’,
‘samples’);</p>

<p><o:p>&nbsp;</o:p></p>

<p>The first argument is the name of the schema, the second is a colon
separated list of jar names. The names must reflect jars that are installed in
the system.</p>

<p><o:p>&nbsp;</o:p></p>

<p>Now, you should be able to run the tests.</p>

<p><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
