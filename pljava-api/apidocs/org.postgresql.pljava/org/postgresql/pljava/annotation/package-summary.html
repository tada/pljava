<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (12.0.2) on Wed Apr 03 16:53:02 EDT 2024 -->
<title>org.postgresql.pljava.annotation (PL/Java API 1.6.7)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-04-03">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.postgresql.pljava.annotation (PL/Java API 1.6.7)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInPackage">Module</span>&nbsp;<a href="../../../../module-summary.html">org.postgresql.pljava</a></div>
<h1 title="Package" class="title">Package&nbsp;org.postgresql.pljava.annotation</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block">Annotations for use in Java code to generate the SQLJ Deployment Descriptor
 automatically.
 <p>
 To define functions or types in PL/Java requires more than one step. The
 Java code must be written, compiled to a jar, and made available to the
 PostgreSQL server. Before the server can use the objects in the jar, the
 corresponding PostgreSQL declarations of functions/types/triggers/operators,
 and so on, must be made in SQL. This often lengthy SQL script (and the
 version that undoes it when uninstalling the jar) can be written in a
 prescribed form and stored inside the jar itself as an "SQLJ Deployment
 Descriptor", and processed automatically when the jar is installed in or
 removed from the backend.
 <p>
 To write the deployment descriptor by hand can be tedious and error-prone,
 as it must largely duplicate the method and type declarations in the
 Java code, but using SQL's syntax and types in place of Java's. Instead,
 when the annotations in this package are used in the Java code, the Java
 compiler itself will generate a deployment descriptor file, ready to include
 with the compiled classes to make a complete SQLJ jar.
 <p>
 Automatic descriptor generation requires attention to a few things.
 <ul>
 <li>The <code>pljava-api</code> jar must be on the Java compiler's class path.
 (All but the simplest PL/Java functions probably refer to some class in
 PL/Java's API anyway, in which case the jar would already have to be on
 the class path.)
 <li>When recompiling after changing only a few sources, it is possible the
 Java compiler will only process a subset of the source files containing
 annotations. If so, it may generate an incomplete deployment descriptor,
 and a clean build may be required to ensure the complete descriptor is
 written.
 <li>Additional options are available when invoking the Java compiler, and
 can be specified with <code>-Aoption=value</code> on the command line:
 <dl>
 <dt><code>ddr.output</code>
 <dd>The file name to be used for the generated deployment descriptor.
 If not specified, the file will be named <code>pljava.ddr</code> and found
 in the top directory of the tree where the compiled class files are written.
 <dt><code>ddr.name.trusted</code>
 <dd>The language name that will be used to declare methods that are
 annotated to have <a href="Function.Trust.html#SANDBOXED"><code>Function.Trust.SANDBOXED</code></a> behavior. If not
 specified, the name <code>java</code> will be used. It must match the name
 used for the "trusted" language declaration when PL/Java was installed.
 <dt><code>ddr.name.untrusted</code>
 <dd>The language name that will be used to declare methods that are
 annotated to have <a href="Function.Trust.html#UNSANDBOXED"><code>Function.Trust.UNSANDBOXED</code></a> behavior. If not
 specified, the name <code>javaU</code> will be used. It must match the name
 used for the "untrusted" language declaration when PL/Java was installed.
 <dt><code>ddr.implementor</code>
 <dd>The identifier (defaulting to <code>PostgreSQL</code> if not specified here)
 that will be used in the <code>&lt;implementor block&gt;</code>s wrapping any SQL
 generated from elements that do not specify their own. If this is set to a
 single hyphen (-), elements that specify no implementor will produce plain
 <code>&lt;SQL statement&gt;</code>s not wrapped in <code>&lt;implementor block&gt;</code>s.
 <dt><code>ddr.reproducible</code>
 <dd>When <code>true</code> (the default), SQL statements are written to the
 deployment descriptor in an order meant to be consistent across successive
 compilations of the same sources. This option is further discussed below.
 </dl>
 <li>The deployment descriptor may contain statements that cannot succeed if
 placed in the wrong order, and to keep a manually-edited script in a workable
 order while adding and modifying code can be difficult. Most of the
 annotations in this package accept arbitrary <code>requires</code> and
 <code>provides</code> strings, which can be used to control the order of
 statements in the generated descriptor. The strings given for
 <code>requires</code> and <code>provides</code> have no meaning to the
 compiler, except that it will make sure not to write anything that
 <code>requires</code> some string <em>X</em> into the generated script
 before whatever <code>provides</code> it.
 <li>There can be multiple ways to order the statements in the deployment
 descriptor to satisfy the given <code>provides</code> and <code>requires</code>
 relationships. While the compiler will always write the descriptor in an
 order that satisfies those relationships, when the <code>ddr.reproducible</code>
 option is <code>false</code>, the precise order may differ between successive
 compilations of the same sources, which <em>should</em> not affect successful
 loading and unloading of the jar with <code>install_jar</code> and
 <code>remove_jar</code>. In testing, this can help to confirm that all of the
 needed <code>provides</code> and <code>requires</code> relationships have been
 declared. When the <code>ddr.reproducible</code> option is <code>true</code>, the order
 of statements in the deployment descriptor will be one of the possible
 orders, chosen arbitrarily but consistently between multiple compilations as
 long as the sources are unchanged. This can be helpful in software
 distribution when reproducible output is wanted.
 </ul></div>
</section>
<ul class="blockList">
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BaseUDT.PredefinedCategory.Code.html" title="interface in org.postgresql.pljava.annotation">BaseUDT.PredefinedCategory.Code</a></th>
<td class="colLast">
<div class="block">Character constants corresponding to the predefined categories,
 for use in the <a href="BaseUDT.html#category()"><code>BaseUDT.category()</code></a> annotation element.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Operator.SelectivityEstimators.html" title="interface in org.postgresql.pljava.annotation">Operator.SelectivityEstimators</a></th>
<td class="colLast">
<div class="block">Names of several functions predefined in PostgreSQL for estimating the
 selectivity of operators in restriction clauses or joins.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Aggregate.FinishEffect.html" title="enum in org.postgresql.pljava.annotation">Aggregate.FinishEffect</a></th>
<td class="colLast">
<div class="block">Declares the effect of the <code>finish</code> function in a <code>Plan</code>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="BaseUDT.Alignment.html" title="enum in org.postgresql.pljava.annotation">BaseUDT.Alignment</a></th>
<td class="colLast">
<div class="block">The supported alignment constraints for the type's internal
 representation.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BaseUDT.PredefinedCategory.html" title="enum in org.postgresql.pljava.annotation">BaseUDT.PredefinedCategory</a></th>
<td class="colLast">
<div class="block">The <a href='https://www.postgresql.org/docs/12/catalog-pg-type.html#CATALOG-TYPCATEGORY-TABLE'>type categories</a> that are predefined in PostgreSQL.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="BaseUDT.Storage.html" title="enum in org.postgresql.pljava.annotation">BaseUDT.Storage</a></th>
<td class="colLast">
<div class="block">The supported <a href='http://www.postgresql.org/docs/current/static/storage-toast.html'>TOAST strategies</a> for the type's stored representation.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Cast.Application.html" title="enum in org.postgresql.pljava.annotation">Cast.Application</a></th>
<td class="colLast">
<div class="block">When this cast can be applied: only in explicit form, when used in
 assignment context, or implicitly whenever needed.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Cast.Path.html" title="enum in org.postgresql.pljava.annotation">Cast.Path</a></th>
<td class="colLast">
<div class="block">A known conversion path when a dedicated function is not supplied:
 <code>BINARY</code> for two types that are known to have the same internal
 representation, or <code>INOUT</code> to invoke the first type's text-output
 function followed by the second type's text-input function.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Function.Effects.html" title="enum in org.postgresql.pljava.annotation">Function.Effects</a></th>
<td class="colLast">
<div class="block">The <a href='http://www.postgresql.org/docs/current/static/xfunc-volatility.html'>volatility
category</a>
 describing the presence or absence of side-effects constraining what
 the optimizer can safely do with the function.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Function.OnNullInput.html" title="enum in org.postgresql.pljava.annotation">Function.OnNullInput</a></th>
<td class="colLast">
<div class="block">Whether the function is called even for null input,
 or known to return null in that case and therefore not called.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Function.Parallel.html" title="enum in org.postgresql.pljava.annotation">Function.Parallel</a></th>
<td class="colLast">
<div class="block">Whether the function is unsafe to use in any parallel query plan at all,
 or avoids certain operations and can appear in such a plan but must be
 executed only in the parallel group leader, or avoids an even larger
 set of operations and is safe to execute anywhere in a parallel plan.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Function.Security.html" title="enum in org.postgresql.pljava.annotation">Function.Security</a></th>
<td class="colLast">
<div class="block">Whether the function executes with the same identity and
 permissions as the role that has invoked it (the usual case), or
 with the rights of the role that <em>defined</em> it (such as to
 offer controlled access to data the invoker would otherwise have
 no access to).</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Function.Trust.html" title="enum in org.postgresql.pljava.annotation">Function.Trust</a></th>
<td class="colLast">
<div class="block">Whether the function only needs limited capabilities and can
 run in the "trusted" language sandbox, or has to be unsandboxed
 and run in an "untrusted" language instance.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Trigger.Called.html" title="enum in org.postgresql.pljava.annotation">Trigger.Called</a></th>
<td class="colLast">
<div class="block">Whether the trigger is invoked before or after the specified event.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Trigger.Constraint.html" title="enum in org.postgresql.pljava.annotation">Trigger.Constraint</a></th>
<td class="colLast">
<div class="block">Deferrability (only applies to constraint triggers).</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Trigger.Event.html" title="enum in org.postgresql.pljava.annotation">Trigger.Event</a></th>
<td class="colLast">
<div class="block">Types of event that can occasion a trigger.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Trigger.Scope.html" title="enum in org.postgresql.pljava.annotation">Trigger.Scope</a></th>
<td class="colLast">
<div class="block">Whether the trigger will occur only once for a statement of interest,
 or once for each row affected by the statement.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Annotation Types Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Annotation Type</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Aggregate.html" title="annotation in org.postgresql.pljava.annotation">Aggregate</a></th>
<td class="colLast">
<div class="block">Declares a PostgreSQL aggregate.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Aggregate.Plan.html" title="annotation in org.postgresql.pljava.annotation">Aggregate.Plan</a></th>
<td class="colLast">
<div class="block">Specifies one "plan" for evaluating the aggregate; one must always be
 specified (as <code>plan</code>), and a second may be specified (as
 <code>movingPlan</code>).</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BaseUDT.html" title="annotation in org.postgresql.pljava.annotation">BaseUDT</a></th>
<td class="colLast">
<div class="block">Annotation on a PL/Java class to form a User Defined Type that will
 become a new PostgreSQL <a href='http://www.postgresql.org/docs/current/static/extend-type-system.html'>base type</a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Cast.html" title="annotation in org.postgresql.pljava.annotation">Cast</a></th>
<td class="colLast">
<div class="block">Declares a PostgreSQL <code>CAST</code>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Function.html" title="annotation in org.postgresql.pljava.annotation">Function</a></th>
<td class="colLast">
<div class="block">Annotates a Java method for which an SQL function declaration should be
 generated into the deployment descriptor file.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="MappedUDT.html" title="annotation in org.postgresql.pljava.annotation">MappedUDT</a></th>
<td class="colLast">
<div class="block">Annotation on a PL/Java class that will either map an existing PostgreSQL
 type (provided its internal storage form is well understood), or create and
 map a new PostgreSQL <a href='http://www.postgresql.org/docs/current/static/extend-type-system.html'>composite type</a>
 (a/k/a "structured type" in the standards).</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Operator.html" title="annotation in org.postgresql.pljava.annotation">Operator</a></th>
<td class="colLast">
<div class="block">Declares a PostgreSQL <code>OPERATOR</code>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SQLAction.html" title="annotation in org.postgresql.pljava.annotation">SQLAction</a></th>
<td class="colLast">
<div class="block">Annotation that supplies verbatim commands to be copied into the
 deployment descriptor.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SQLActions.html" title="annotation in org.postgresql.pljava.annotation">SQLActions</a></th>
<td class="colLast">
<div class="block">Container for multiple <a href="SQLAction.html" title="annotation in org.postgresql.pljava.annotation"><code>SQLAction</code></a> annotations (in case it is
 convenient to hang more than one on a given program element).</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SQLType.html" title="annotation in org.postgresql.pljava.annotation">SQLType</a></th>
<td class="colLast">
<div class="block">Optionally annotates a Java method parameter, to supply an explicit
 SQL type for use in the SQL function declaration in place of the
 automatically mapped type, and/or to supply an SQL default value.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Trigger.html" title="annotation in org.postgresql.pljava.annotation">Trigger</a></th>
<td class="colLast">
<div class="block">Annotation, only used in <a href="Function.html#triggers()"><code>@Function(triggers=...)</code></a>,
 to specify what trigger(s) the function will be called for.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2003&#x2013;2024<a href='http://tada.se/eng/'>Tada AB</a></small></p>
</footer>
</body>
</html>
